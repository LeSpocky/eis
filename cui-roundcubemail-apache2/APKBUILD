# Contributor: Yves Schumann <yves@eisfair.org>
# Maintainer: Yves Schumann <yves@eisfair.org>
pkgname=cui-roundcubemail-apache2
pkgver=1.2.2
pkgrel=0
pkgdesc="CUI Setup for Roundcube webmail for apache"
url="http://www.eisfair.org"
arch="noarch"
license="GPL"
depends="cuimenu cui-apache2 roundcubemail"
depends_dev=""
makedepends="$depends_dev"
install="$pkgname.pre-upgrade $pkgname.post-upgrade $pkgname.post-install $pkgname.post-deinstall"
subpackages=""
source="${pkgname}.check
		${pkgname}.check.exp
		${pkgname}.check.ext
		${pkgname}.default
		${pkgname}.help
		${pkgname}.menu
		${pkgname}.sh
		${pkgname}.txt
		${pkgname}.txt.toc
		${pkgname}-update.sh
"

_builddir=
prepare() {
	cd "$_builddir"
}

build() {
	cd "$_builddir"
}

package() {
	cd "$_builddir"
	cd ${startdir}/dialog.d
	for currentDialogScript in $(ls) ; do
		install -D -m755 ${currentDialogScript} ${pkgdir}/var/install/dialog.d/${currentDialogScript} || return 1
	done
	cd -
	install -D -m644 ${srcdir}/${pkgname}.check         ${pkgdir}/etc/check.d/roundcubemail-apache2 || return 1
	install -D -m644 ${srcdir}/${pkgname}.check.exp     ${pkgdir}/etc/check.d/roundcubemail-apache2.exp || return 1
	install -D -m644 ${srcdir}/${pkgname}.check.ext     ${pkgdir}/etc/check.d/roundcubemail-apache2.ext || return 1
	install -D -m640 ${srcdir}/${pkgname}.default       ${pkgdir}/etc/default.d/roundcubemail-apache2 || return 1
	install -D -m644 ${srcdir}/${pkgname}.help          ${pkgdir}/var/install/help/roundcubemail-apache2 || return 1
	install -D -m644 ${srcdir}/${pkgname}.menu          ${pkgdir}/var/install/menu/setup.services.apache2.roundcubemail.menu || return 1
	install -D -m755 ${srcdir}/${pkgname}.sh            ${pkgdir}/var/install/config.d/roundcubemail-apache2.sh || return 1
	install -D -m644 ${srcdir}/${pkgname}.txt           ${pkgdir}/usr/share/doc/roundcubemail-apache2/roundcubemail-apache2.txt || return 1
	install -D -m644 ${srcdir}/${pkgname}.txt.toc       ${pkgdir}/usr/share/doc/roundcubemail-apache2/roundcubemail-apache2.toc || return 1
	install -D -m755 ${srcdir}/${pkgname}-update.sh     ${pkgdir}/var/install/config.d/roundcubemail-apache2-update.sh || return 1
}

md5sums="9b8c2ee0c545db66fe14cc6d6aec3b29  cui-roundcubemail-apache2.check
c1b3d9e0a4371fb9cee1842c1fb9c9de  cui-roundcubemail-apache2.check.exp
1bcad8f202b9fdb729bc9cc74c1accae  cui-roundcubemail-apache2.check.ext
00d0f927cc4a5ed1f9a46daaf152da06  cui-roundcubemail-apache2.default
c4f91e3bb67cc42c7992f793bfa9722e  cui-roundcubemail-apache2.help
745e4f897d2d908b17068b14f20e8af2  cui-roundcubemail-apache2.menu
680c8c59d562567aba33b3ef15feb022  cui-roundcubemail-apache2.sh
c415a20f6553c6434ba6d8c3efff4c25  cui-roundcubemail-apache2.txt
7b0cc9b8ec4f39987ea41871d0bee318  cui-roundcubemail-apache2.txt.toc
164b7351e619e5e84a46640b7b71134b  cui-roundcubemail-apache2-update.sh"
sha256sums="67913461f23ec4341e6b6a7e2281a95c57a52bdf5daf271cff319ef24ed9e7a6  cui-roundcubemail-apache2.check
229a3fd48dd8430e289f150efa5413eeba452deb3c2ef6acf4bc9bc2264c7886  cui-roundcubemail-apache2.check.exp
2a9c8664cc91e8978f35cf9f3915ead8ddc844be1d366efc79fa45e14d2d82ba  cui-roundcubemail-apache2.check.ext
84c7acd39b1442b604ec5009970c2dd137c8aa07bf00c8632ceb4b00e82149b0  cui-roundcubemail-apache2.default
3658a84c4e5f6c43060e806d7e63bfb47d40574689bc15e4e1742066fed0f855  cui-roundcubemail-apache2.help
f35a0bda2777de667a6f21f58c06219dd3fc39b185b8a549b6997fc64d77a12f  cui-roundcubemail-apache2.menu
12319c96396b53c9f8d5ef3a5eebb6fc2c1fad22ac93e703e22cff8a811f2f9f  cui-roundcubemail-apache2.sh
78693ef5e5209c7d49bde5367bdd053c9c40cbd970b9a502c150637894bb770d  cui-roundcubemail-apache2.txt
7c960eb3a1f1042adc4b2821a00b70912ff83b60d8695e31fe3ad9f07e0d5120  cui-roundcubemail-apache2.txt.toc
b0205b033831c3a4402614fd4f8ff89fd2e8deaeaa09e4690505e695a484e4be  cui-roundcubemail-apache2-update.sh"
sha512sums="b6572507cef794bc12a1832dc6591638791d3367baeced74fa56fbd7600bd50c92c1bb0974a106b99231d799292dac5e13807a259ce8a9f09672cbdd3e981db5  cui-roundcubemail-apache2.check
abc12d853cf57c6fb40066ce98e5ec0e0dcb5c59e5045152d9ba16bb237d5ec7d5fdc63d9e9c090340401258dfc7292ae1d139202c9ff97e3f66fba2294ae024  cui-roundcubemail-apache2.check.exp
93798ed6e93e2e3752df63d1bfcf335a648d70cb841f15124db29eda2a41e75b5628581552b6da9e984b80501483a19c3be14a26e134ba8ca1b5ebf90e1f14d1  cui-roundcubemail-apache2.check.ext
bf465e2346ecf6bc475124dcb3875361a36d2f0a900ae7e44fb61f885f815444d1b63f0e53467776458ee7c434c7351481c286a526ccda3e7dd2b0cd4ed1ff0f  cui-roundcubemail-apache2.default
fa43af832ddec3b3601a012e3996394e22e2750f75b3b7f337cbd383b2d5a117339d483bc009aa932ea84dfa672ce3993acbf452c42af780f9d7c99b94582449  cui-roundcubemail-apache2.help
01309b874382e18a5514a9e287634a7b3c84f103ee64f987a94bd99504023276b955e4cb6cf05a0132d75701c16080e7f4acdafc455f63cccde99e8ac4ede1d7  cui-roundcubemail-apache2.menu
64b3c87849662a4059e780eeb2a33e70f70de2327ba10b2edc50b26f2906f1c9f53dc1ba84f1f9eadd0678bc2d49bb35eba8a66a6d86ab9418fe9ba0a4d01973  cui-roundcubemail-apache2.sh
7ad923ceb319975b660d8517e21dcdbc6d025d138ca9439aff61bf4a99b419d975b79b2064cbf8546b7b36bde089be49f25d8a05063cc02481fab51d861edf09  cui-roundcubemail-apache2.txt
93db08188f5b308c3ece91f48efc7b919f97bb9fad6953d836dce52f0566ad7863bef73297d09d5a484e6c13fdf4a5f4fc27a4ba96bc199e51a8995ed21d180a  cui-roundcubemail-apache2.txt.toc
7e9ded09f68481f6d31398f0e8bf036c5a9eb035c8d7d59ff3e9e0c7eefba9ee10e1c447ee2010b7b32055c2cc41ea198b7ebc8319a47cb16f338c7b2f285c2d  cui-roundcubemail-apache2-update.sh"
