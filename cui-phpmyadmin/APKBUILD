# Contributor: starwarsfan <yves@eisfair.org>
# Maintainer: starwarsfan <yves@eisfair.org>
pkgname=cui-phpmyadmin
pkgver=1.0.0
pkgrel=4
pkgdesc="CUI Setup for phpMyAdmin"
url="http://www.eisfair.org"
arch="noarch"
license="GPL"
depends="cuimenu cui-apache2 cui-php-apache2 php-apache2 php-xml phpmyadmin"
depends_dev=""
makedepends="$depends_dev"
install="$pkgname.post-install $pkgname.pre-upgrade $pkgname.post-deinstall"
subpackages=""
source="${pkgname}.check
        ${pkgname}.check.exp
        ${pkgname}.check.ext
        ${pkgname}.help
        ${pkgname}.setup.services.phpmyadmin.menu
        ${pkgname}.setup.services.phpmyadmin.tools.menu
        ${pkgname}.setup.services.phpmyadmin.traditionalconfiguration.menu
        ${pkgname}.setup.services.phpmyadmin.webconfiguration.menu
        ${pkgname}.sh
        ${pkgname}.txt
        ${pkgname}-activate-websetup.sh
        ${pkgname}-deactivate-websetup.sh
        ${pkgname}-helpers.sh
        ${pkgname}-tools-listservers.sh
        ${pkgname}-tools-pma-db.sh
        ${pkgname}-tools-pma-user.sh
        ${pkgname}-update.sh
"

_pname="phpmyadmin"
_builddir=

prepare() {
	local i
	cd "$_builddir"
	for i in $source ; do
		case $i in
		*.patch) msg $i; patch -p1 -i "$srcdir"/$i || return 1;;
		esac
	done
}

build() {
	cd "$_builddir"
}

package() {
	cd "$_builddir"
	cd ${startdir}/dialog.d
	for currentDialogScript in `ls` ; do
		install -D -m755 ${currentDialogScript} ${pkgdir}/var/install/dialog.d/${currentDialogScript} || return 1
	done
	cd -
	cd "$_builddir"
	cd ${startdir}/default.d
	for currentDefaultConfig in `ls` ; do
		install -D -m644 ${currentDefaultConfig} ${pkgdir}/etc/default.d/${currentDefaultConfig} || return 1
	done
	cd -
	install -D -m644 ${srcdir}/${pkgname}.check                                ${pkgdir}/etc/check.d/${_pname} || return 1
	install -D -m644 ${srcdir}/${pkgname}.check.exp                            ${pkgdir}/etc/check.d/${_pname}.exp || return 1
	install -D -m644 ${srcdir}/${pkgname}.check.ext                            ${pkgdir}/etc/check.d/${_pname}.ext || return 1
    install -D -m644 ${srcdir}/${pkgname}.txt                                  ${pkgdir}/usr/share/doc/${_pname}/${_pname}.txt || return 1
	install -D -m755 ${srcdir}/${pkgname}.sh                                   ${pkgdir}/var/install/config.d/${_pname}.sh || return 1
	install -D -m755 ${srcdir}/${pkgname}-update.sh                            ${pkgdir}/var/install/config.d/${_pname}-update.sh || return 1
	install -D -m644 ${srcdir}/${pkgname}.help                                 ${pkgdir}/var/install/help/${_pname} || return 1
	install -D -m644 ${srcdir}/${pkgname}.setup.services.phpmyadmin.menu       ${pkgdir}/var/install/menu/setup.services.phpmyadmin.menu || return 1
	install -D -m644 ${srcdir}/${pkgname}.setup.services.phpmyadmin.tools.menu ${pkgdir}/var/install/menu/setup.services.phpmyadmin.tools.menu || return 1
	install -D -m755 ${srcdir}/${pkgname}-activate-websetup.sh                 ${pkgdir}/var/install/bin/phpmyadmin-activate-websetup.sh || return 1
	install -D -m755 ${srcdir}/${pkgname}-deactivate-websetup.sh               ${pkgdir}/var/install/bin/phpmyadmin-deactivate-websetup.sh || return 1
	install -D -m755 ${srcdir}/${pkgname}-helpers.sh                           ${pkgdir}/var/install/bin/phpmyadmin-helpers.sh || return 1
	install -D -m755 ${srcdir}/${pkgname}-tools-listservers.sh                 ${pkgdir}/var/install/bin/phpmyadmin-tools-listservers.sh || return 1
	install -D -m755 ${srcdir}/${pkgname}-tools-pma-db.sh                      ${pkgdir}/var/install/bin/phpmyadmin-tools-pma-db.sh || return 1
	install -D -m755 ${srcdir}/${pkgname}-tools-pma-user.sh                    ${pkgdir}/var/install/bin/phpmyadmin-tools-pma-user.sh || return 1
}
md5sums="4cd03a71a1540d5034b828ca7827c125  cui-phpmyadmin.check
4cf19359ede4d628bc89e7565c5bd5c4  cui-phpmyadmin.check.exp
1e483dbdec7e4569b6c388e903bef79d  cui-phpmyadmin.check.ext
29d5f193acb6198a4f50834ba348ea6b  cui-phpmyadmin.help
78835f0a06773380d947e52b21e65abf  cui-phpmyadmin.setup.services.phpmyadmin.menu
7b6d0da75a46f9bdbb696f738b4a0c52  cui-phpmyadmin.setup.services.phpmyadmin.tools.menu
a18e49513c6c8f598d0d5be3a8cdf283  cui-phpmyadmin.setup.services.phpmyadmin.traditionalconfiguration.menu
174a73958f078da3464bb5d97545c575  cui-phpmyadmin.setup.services.phpmyadmin.webconfiguration.menu
7aae0e8801ae6be00666e813702696e7  cui-phpmyadmin.sh
a905fd0019aabe9481f471148b3d1c4e  cui-phpmyadmin.txt
3494ed844f717101d4586f113060dd82  cui-phpmyadmin-activate-websetup.sh
d90e154ffb0f6c516ca7b8b86a384781  cui-phpmyadmin-deactivate-websetup.sh
2443a29a7d86de06a752020ad48dc8bf  cui-phpmyadmin-helpers.sh
7d7a06f6c89b5bb4d83580e4c7d6c8d9  cui-phpmyadmin-tools-listservers.sh
27ed2b900524dc7df69773ad2a4a0253  cui-phpmyadmin-tools-pma-db.sh
d6d4f1659fd32efe1a29b550537cb629  cui-phpmyadmin-tools-pma-user.sh
f7fd10dffe83e19df5273967d3806e6f  cui-phpmyadmin-update.sh"
sha256sums="b49e94e9cea1a211cb426feceb806808955a1ee45775a143ef6d1bbd41b54f21  cui-phpmyadmin.check
a333dc57e2e12584a60bc9250b611a38466a673fae29caa409b4d00c7f47590a  cui-phpmyadmin.check.exp
e284d74f664779102e6167ebc1b16b9f4ac4e68256d6d44841278cefe9681c63  cui-phpmyadmin.check.ext
b913768365d9bd6359d990855fbb2bfcfebece87093570c8582c0af58234e366  cui-phpmyadmin.help
53a922798a9e4a71456785a7215c2827092f0596221c1b451da32c6a10b97ea6  cui-phpmyadmin.setup.services.phpmyadmin.menu
cd6dafa8ccaca82b88d2a07277754f1ed301f764d210ada2f5d4f9c641011c21  cui-phpmyadmin.setup.services.phpmyadmin.tools.menu
606ac167bafd79eca6749abcdd3c27a329ade9180c20c0fc1fc4fdb0841b9616  cui-phpmyadmin.setup.services.phpmyadmin.traditionalconfiguration.menu
dcdf0e8098c331b667730af907f2e23f26beb6e76f364f6892e70a36389114d3  cui-phpmyadmin.setup.services.phpmyadmin.webconfiguration.menu
b78649f9b43a95687ddf63c93ced13d16446b45c8f1fc31bcaee09d40d488b52  cui-phpmyadmin.sh
3d081ad2cf8fe724ab722e2f1be4d2da7fa0ed90cbc6c2aa53dc90cea008c652  cui-phpmyadmin.txt
72405760df15b8679c9ad8a26bb7095ce78dfea90e1e150f90f77adebeab3406  cui-phpmyadmin-activate-websetup.sh
1e1b403ef372cd7a177f556ab90fa2a3eb7c97e4dbdea7d0c4f01b1aa5087520  cui-phpmyadmin-deactivate-websetup.sh
893e7ea851bc54b29df164faad180c0bc3c9b72a2040ddc819ab37a57c84fa63  cui-phpmyadmin-helpers.sh
c865dd1d521d64bd6d5c047b24767cde7452b3c3869e333d1df0558f5801f361  cui-phpmyadmin-tools-listservers.sh
ca15e6b5544fcb6a25df98a95ed6fb0d3ca2098a6c4c7662faf49c485bab559b  cui-phpmyadmin-tools-pma-db.sh
51506d0cc43eb8b4d97348be1ae297cd4a5c4455bfd849ac06a31f5556e34ead  cui-phpmyadmin-tools-pma-user.sh
f68dd72cdcd183d97b67fe288ee0e4132ac3e895ca9944d283e08c370c8340b5  cui-phpmyadmin-update.sh"
sha512sums="b2083260267996b9c33d878f34733373a022601b04af480ebd997fd4c5b8f99e33ce4510fc53a087646a6a1b9745a2e66fdae041378943872c80e088d6c49ed2  cui-phpmyadmin.check
e0f4c279b3ae56927bbdba2dbd0a4957364d78183d44014635f1a6857b98938b7fe3c53ff19445eed398178f4aa8475890c6f91c9dc173fb06e8a67ee20dfb82  cui-phpmyadmin.check.exp
b7b8ccc7166157fbfd6750831cb5560d23d40e69c404ed8e6099964e9200b0784b9ac72964b6db360d3a985dded8a6a0845f0038722fcee2967ec27a540b5a5c  cui-phpmyadmin.check.ext
159f5f99755fa29e23d85c0f55703642e718c4e56f6a268b84e27dc725ab03026717582cff5cbbc71fc4c7d2f90889f1288b99962dd59e1d51eb4c4f2efb8907  cui-phpmyadmin.help
36222b9e59ef3d820bd942b6848d04e5946b266809677a08486ae4399810f1a6e4dc562cd581e2feb9d78b2222f4081087bece5b7b59970cf77526ed93180844  cui-phpmyadmin.setup.services.phpmyadmin.menu
eaa3948b2fa2d0a8cbfd9819ebcb7544e92abbadfdd3ad178cc5c6ef7a7884c3c4a4754b8bcdef26de6558b558df400b8225ba2885f6b07d66db1c8a3fdcda2f  cui-phpmyadmin.setup.services.phpmyadmin.tools.menu
1cdf182631f7cafec0a8d48c885fc7bf663fd065f492bbdffd2f4a6a408846ddc3f6fcdf91752b15be2a38892b07d4ed749638190bbbd6abe4f090724322f914  cui-phpmyadmin.setup.services.phpmyadmin.traditionalconfiguration.menu
39b1a2b0a32e655c80f878fcb884b975c93c9600746b90ce35e4f4c126a12ca5784962df605e558aa578272e861b0cf0fa9faf2628e84806f6dbadc743853196  cui-phpmyadmin.setup.services.phpmyadmin.webconfiguration.menu
a1bf0d01270a3f382344fa447ddd454c03f8b7056f03e24c0e86f857e59bd30a2d5f78f8bb44b2fff304c36fbd4e97b95a0f79f45acb383b1b86075eb2b8d053  cui-phpmyadmin.sh
2ffc1d4f3171df09f93abcce9da662866d62a15fa1e857610311ce9e4cb5a6440fe55a184235c92ae03cf1a5538c1ea5aa030c698ebaad75e081396a630a8e53  cui-phpmyadmin.txt
6145085dd2ebde3bd6cb9015d85e66dbb37979e379fce995baace15917a48c887d7c53c42683ebb7e0dd5e9a3a7de2a021a2808275d5e6619d6950b2161e5654  cui-phpmyadmin-activate-websetup.sh
753cf5efb47469a4452c6b3f65e39ca31ce99e9a863259b652a8b1190ecba80d6b2f8cd7d4bc7af2e6d2a34f7104ebf7ed37974b0513854cd263e1a4aff44291  cui-phpmyadmin-deactivate-websetup.sh
575603f600cf1e3b67e1a44d4828574fb27360dfbe24d61c3b46d26a2fe7f2db813dc88ecba58203c60328f46b170dbb5cd8ceaff24f39d1d68ffe2f766a7719  cui-phpmyadmin-helpers.sh
3adcf656faa7c81b818c9cca672f6c9de7faf00227d4fe6f82fc6d5a86956b3f4eb55c3fc4f6f6f6ab340568bffe43c0c25a016f2135edb4d5f6cfb3dd91d549  cui-phpmyadmin-tools-listservers.sh
3e4653b0850a2b9f69bcfe5c2aec515333844bb54051b4f5a7dbafd1b06fe4824b8c0c501a4ce6bf5d610ac06ac39acdbcbaa3dcd80576db21da2f4df1e18426  cui-phpmyadmin-tools-pma-db.sh
21989668feb8050e04e04747067cb36d3033696db785486b17ac621ad72801d0767905967eb0566c6be3063f0fcf764b9b83b7dfdb3a4df6ede89d7a184e2ebc  cui-phpmyadmin-tools-pma-user.sh
390321ffcb8beb0847900e21e9e42ca800cb6b9c08853cb06d0321b4008886dc8de0c3bffd0c08f6a5a4deeeac6c9235042d2a07e36080fd5338294139df5a5c  cui-phpmyadmin-update.sh"
