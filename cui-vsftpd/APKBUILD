# Contributor: jv <jens@eisfair.org>
# Maintainer: jv <jens@eisfair.org>
pkgname=cui-vsftpd
pkgver=1.0.0
pkgrel=0
pkgdesc="CUI setup for very secure FTP service (vsftpd)"
url="http://www.eisfair.org"
arch="noarch"
license="GPL"
depends="cuimenu vsftpd linux-pam-pwdfile libcui-addonpwdfile openssl"
depends_dev=""
makedepends="$depends_dev"
install="$pkgname.pre-upgrade $pkgname.post-upgrade $pkgname.post-install $pkgname.post-deinstall"
subpackages=""
source="${pkgname}.default
		${pkgname}.check
		${pkgname}.help
		${pkgname}.sh
		${pkgname}-update.sh
		${pkgname}.menu
		${pkgname}.txt
		vsftpd-user.cui.sh
		cui-vsftpd.syslog-destination
		cui-vsftpd.syslog-log
"

_builddir=

prepare() {
	cd "$_builddir"
}

build() {
	cd "$_builddir"
}

package() {
	cd "$_builddir"

	install -D -m644 ${srcdir}/${pkgname}.check         ${pkgdir}/etc/check.d/vsftpd || return 1
	install -D -m644 ${srcdir}/${pkgname}.default       ${pkgdir}/etc/default.d/vsftpd || return 1
	install -D -m644 ${srcdir}/${pkgname}.help          ${pkgdir}/var/install/help/vsftpd || return 1
	install -D -m755 ${srcdir}/${pkgname}.sh            ${pkgdir}/var/install/config.d/vsftpd.sh || return 1
	install -D -m755 ${srcdir}/${pkgname}-update.sh     ${pkgdir}/var/install/config.d/vsftpd-update.sh || return 1
	install -D -m644 ${srcdir}/${pkgname}.menu          ${pkgdir}/var/install/menu/setup.services.vsftpd.menu || return 1	
	install -D -m644 ${srcdir}/${pkgname}.txt           ${pkgdir}/usr/share/doc/vsftpd/vsftpd.txt || return 1
	install -D -m755 ${srcdir}/vsftpd-user.cui.sh       ${pkgdir}/var/install/bin/vsftpd-user.cui.sh || return 1
	install -D -m644 ${srcdir}/cui-vsftpd.syslog-destination  ${pkgdir}/etc/syslog-ng/syslog-ng-destination.vsftp || return 1
	install -D -m644 ${srcdir}/cui-vsftpd.syslog-log    ${pkgdir}/etc/syslog-ng/syslog-ng-log.vsftp || return 1    	
}

md5sums="ea990dcd8f4576d1d19e0de2c0a06d9b  cui-vsftpd.default
d4267da7b1a43450094f08ce7ee8b55c  cui-vsftpd.check
e62b6b7808247227af45f172cca5685e  cui-vsftpd.help
95e9b69e7fbf4a7f7f1f5a7cede7762b  cui-vsftpd.sh
8cf9ffddff214642e5876a7ac4039e9d  cui-vsftpd-update.sh
7a6e58a840655173f5c11cf87728b8c6  cui-vsftpd.menu
f7a2169d03ef6f6dc16c5af3d9215281  cui-vsftpd.txt
8f8b44b18a505358e9b68fe08adc54d4  vsftpd-user.cui.sh
16ac169f6a02c9c4a8033a8af7960767  cui-vsftpd.syslog-destination
02cebf22b722900dc7707acb5a885c16  cui-vsftpd.syslog-log"
sha256sums="4d193640c8ece93aee700a5db16792ae7455542e21588f0b167931dd06d3ce81  cui-vsftpd.default
24458ffe29d00a6df392837e4c3bd8523491e6719d18924a6f5917b08833c769  cui-vsftpd.check
85b6f08a0d45719ed60245f9711cfcb2e52881d09188f7e1a89ea568e902cc9e  cui-vsftpd.help
0f20f2c7331657e9e7cd3d221e76aa9efefd836ab647688f1763607440d43f6a  cui-vsftpd.sh
18e6dbd4c75355243cbb3443aedf238233d4ca51bc87bf8ab6619cbb8dc361d3  cui-vsftpd-update.sh
904fffebf349c19ba2cc041cc7f8b09b1686f53b6f4056b95dff2bccd47fd880  cui-vsftpd.menu
6b647de55e1c01d7fb447e3c196e58eca5eaacaeab80ea7816be7b91d1319836  cui-vsftpd.txt
09a765b7cf3c8154628f408a49e9a5d2c963b9585c53a64e29f0f130b07f9bd0  vsftpd-user.cui.sh
fe69d0311b6088abb31766fe38e067443162cc44c6c8944f1dc71fa6c7bbee36  cui-vsftpd.syslog-destination
32623eb48f4a90dfaebee2c92e8a46349ab9a5748f6fbc1082537076ec6e146a  cui-vsftpd.syslog-log"
sha512sums="d4227e2ebf6043242315dc445cbd80ea226eb8a2faf4e56c9f4bae8f77d43364ae444993c4dd4ad602861821cbc787786610fbc8092c9df6252dd066f004eaed  cui-vsftpd.default
fffbed9d7671161b38a22160824d003060ff2b4dc1c77538699798958273f44b5f0e74abb2fb0053b0da20ef66b449e0f1a81e18e96da22a4acd92a625ff46a7  cui-vsftpd.check
760dee8347ae69dc3299ced37d64136345d8dc2c2de2a26a6c2f5b132db2b8bced3cfca8a6c37c5cc040e9b9b02216a22232aa209bd9defba25a26750f74e9d1  cui-vsftpd.help
c47f267c7887d13e8e2ed2f6c91764489f8d963f69d22e374c465123d0bb4a2590a9424fc1b03f71f3bc82a457ce7aebbbea105647acfe68bfca3215de33f25f  cui-vsftpd.sh
a2966a098aa18e7a0fd52499c9237ab9e02a05ee8ea93f2be81d91f565b9f6db3fbd7fe27cbda326dc20f9c526e7a30dce0e7010d0e5806d105a5541e6ef2df0  cui-vsftpd-update.sh
f2564cb0d9e0ea96dd4950eafbe31fddf182d233afe0d618fa977a86e1e45f001e316eb217164dfc33a3f625d579392c49ba8ad7ae2036fe4524049994c1f03e  cui-vsftpd.menu
b5a5eb42445b93bae6a4aba849338eeae1917f795590c0ef980946a5edcc812727d58a081f241825e2333002cead68f301794f4eb3d6c825dc53523d6b8e3d8d  cui-vsftpd.txt
91bca66601091bf5b75cbd4711a3bb88615ac460a3a74151cf4a2a4a0c97389244a1fe2aa38d87bf828b73ede8b735a817842f2f55188adae99738960cdadd19  vsftpd-user.cui.sh
048fbca391181218452061d8434f19cc37439c577286d377a061786a9a01fddcfc2b7fcda9c1d79b8f4ee43f990ca73b2f9566b0f85dab9ed822e2bc2842d442  cui-vsftpd.syslog-destination
ca0965e87fa0de2b8e250ba597de679f93d24c8325756a2b06deed3ac04bc3996b85331942204cf49567d06a262616ec25f6143ce09f231687e6796c1a53c729  cui-vsftpd.syslog-log"
