# Contributor: starwarsfan <yves@eisfair.org>
# Maintainer: starwarsfan <yves@eisfair.org>
pkgname=cui-lprng
pkgver=1.0.0
pkgrel=0
pkgdesc="CUI Setup for lprng printer spooler"
url="http://www.eisfair.org"
arch="noarch"
license="GPL"
depends="cuimenu lprng"
depends_dev=""
makedepends="$depends_dev"
install="$pkgname.post-install $pkgname.post-deinstall"
subpackages=""
source="${pkgname}.checkd
        ${pkgname}.checkd.ext
        ${pkgname}.help
        ${pkgname}.initd
        ${pkgname}.sh
        ${pkgname}.txt
        ${pkgname}-update.sh
"

_builddir=
prepare() {
	local i
	cd "$_builddir"
	for i in ${source} ; do
		case ${i} in
		*.patch) msg ${i}; patch -p1 -i "$srcdir"/${i} || return 1;;
		esac
	done
}

build() {
	cd "$_builddir"
}

package() {
	cd "$_builddir"
	cd ${startdir}/bin
	for currentHelperScript in `ls` ; do
		install -D -m755 ${currentHelperScript} ${pkgdir}/var/install/bin/${currentHelperScript} || return 1
	done
	cd -
	cd ${startdir}/menu
	for currentMenu in `ls` ; do
		install -D -m644 ${currentMenu} ${pkgdir}/var/install/menu/${currentMenu#cui-lprng.*} || return 1
	done
	cd -
	install -D -m644 ${srcdir}/${pkgname}.checkd          ${pkgdir}/etc/check.d/cui-lprng || return 1
	install -D -m644 ${srcdir}/${pkgname}.checkd.ext      ${pkgdir}/etc/check.d/cui-lprng.ext || return 1
	install -D -m644 ${srcdir}/${pkgname}.help            ${pkgdir}/var/install/help/cui-lprng || return 1
	install -D -m644 ${srcdir}/${pkgname}.initd           ${pkgdir}/etc/init.d/lprng || return 1
	install -D -m644 ${srcdir}/${pkgname}.txt             ${pkgdir}/usr/share/doc/cui-lprng/cui-lprng.txt || return 1
	install -D -m755 ${srcdir}/${pkgname}.sh              ${pkgdir}/var/install/config.d/cui-lprng.sh || return 1
	install -D -m755 ${srcdir}/${pkgname}-update.sh       ${pkgdir}/var/install/config.d/cui-lprng-update.sh || return 1
}
md5sums="03a51460c5d571f5d72cca3054516c3b  cui-lprng.checkd
661af55e58de963af6d849f558dbf482  cui-lprng.checkd.ext
99bc7c6d6ce2bcd7eafc9af5115a9c24  cui-lprng.help
df5a266107c9587e002993f38cf568db  cui-lprng.initd
69b0401195bf2aa3d6494e9675dcc294  cui-lprng.sh
33aaf446563e0b7af0bf1002aebe739b  cui-lprng.txt
d877638d25a2c850ba97e63eef7ef5c5  cui-lprng-update.sh"
sha256sums="54da829e8b286312363c96c215d7b453ead5b12433003dda0a46739811a84d9e  cui-lprng.checkd
3aed1276d50d8ea6a13d01e21212feed45311ff6f5495ff2ba8bbeddd4d58c60  cui-lprng.checkd.ext
2b903db2c97340a4c1d43288b05836c93d4d4bf05043f74dc9daa51aecbbd441  cui-lprng.help
88bfcf18ca5063e5fff9eb1855f4d700e436d08bb37581f27ab87cfbf4d234b4  cui-lprng.initd
d178937d7c0f1fc8b1b8a3a14f7371f45782a6f470350e2c13b3aef9b95ee197  cui-lprng.sh
1e8152b0dfbe91145e7698785f35708c93abd55d9ebcc3df4c46d30e4c8ac3d7  cui-lprng.txt
37fb0544452846ea73f5f05dcc581c2a93a8bca086e128872f1771a051dc35f9  cui-lprng-update.sh"
sha512sums="a712ee3ee6ad9dccaadf426646206241d49b4378f082653d4e67f5edaa8f0bf0f229e8e54923eb798c91574aa862283efaa38ac3635f129fc75ee328f512263e  cui-lprng.checkd
bfdfbc056a971b33789dd32e5dbdce517ee92efe3fe813c16124419186df4306f15645967cd3ef15d4e0c44723ac322a0c374ed53d12042a09df4c1f2b7992c7  cui-lprng.checkd.ext
12496bdd7a430cb9ccb230f302ea7b73341c5c28669dae3b49355f82e1938dc2bd50c723d61c747540fbdc3af71737c0b31b6623806090ba4a3aa9e221e6bbb1  cui-lprng.help
8d0f135c8577535fc4bd3e777875ae889c978107c014deefcdc9f0b3ce150182c28c9b43efe2d5d7a099fe36ed454ecb680a161cf91e243efa1550fffbfe127f  cui-lprng.initd
bb45e5a4a1d8f83e7d52ba57cf918ace3e706fdc2e39e95b35de0fa685539b1fa8381d5554ef726543c8b1a13811d0a03f057f4523bd87a92be2ce28a0836699  cui-lprng.sh
c78fbeab7f387770173a413b3c4a57da6d34085592e23a493b1edc160736005f4b50ba05411f04556d98404a590c86ff2af37750e67ced1cc122f4a15f95e441  cui-lprng.txt
b3e54c095cd35cdda909a993043b8ebc8d4f1f6b5838cf2806a03314b44bd7eda2fc7d4d9c36a8614eb053cdefc4bf9b216d63becc24c73c579a0934673b42d9  cui-lprng-update.sh"
