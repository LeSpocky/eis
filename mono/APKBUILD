# Contributor: starwarsfan <yves@eisfair.org>
# Maintainer:
pkgname=mono
pkgver=0.0.1
pkgRC=-GIT
pkgrel=1
pkgdesc="Cross platform, open source .NET framework"
url="http://www.mono-project.com/"
arch="all"
license="GPL"
depends=""
depends_dev="libusb-compat-dev subversion libtool"
makedepends="$depends_dev"
install=""
source=""
repoURL="git://github.com/mono/mono.git"

_builddir="$srcdir/${pkgname}-$pkgver${pkgRC}"

prepare() {
	local i
	git clone ${repoURL} ${_builddir}
	cd "$_builddir"
	for i in ${source}; do
		case ${i} in
		*.patch) msg ${i}; patch -p1 -i "$srcdir"/${i} || return 1;;
		esac
	done
}

build() {
	cd "$_builddir"
	./autogen.sh \
		--prefix=/usr \
		--disable-nls \
		--with-static_mono=no \
		|| return 1
	make || return 1
}

package() {
	cd "$_builddir"
	install -D -m755 ${pkgname} ${pkgdir}/usr/bin/${pkgname} || return 1
	mkdir -p -m 755 ${pkgdir}/etc/${pkgname}
}
