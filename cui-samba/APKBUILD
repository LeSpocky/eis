# Contributor: starwarsfan <yves@eisfair.org>
# Maintainer: starwarsfan <yves@eisfair.org>
pkgname=cui-samba
pkgver=1.0.0
pkgrel=0
pkgdesc="CUI Setup for samba"
url="http://www.eisfair.org"
arch="noarch"
license="GPL"
depends="cuimenu samba"
depends_dev=""
makedepends="$depends_dev"
install="$pkgname.post-install $pkgname.post-deinstall"
subpackages=""
source="${pkgname}.checkd
        ${pkgname}.checkd.exp
        ${pkgname}.help
        ${pkgname}.sh
        ${pkgname}.txt
        ${pkgname}-update.sh
        ${pkgname}-usermapping.checkd
        ${pkgname}-usermapping.help
        ${pkgname}-usermapping.sh
        ${pkgname}-usermapping-update.sh
"

_builddir=
prepare() {
	local i
	cd "$_builddir"
	for i in $source ; do
		case $i in
		*.patch) msg $i; patch -p1 -i "$srcdir"/$i || return 1;;
		esac
	done
}

build() {
	cd "$_builddir"
}

package() {
	cd "$_builddir"
	cd ${startdir}/bin
	for currentHelperScript in `ls` ; do
		install -D -m755 ${currentHelperScript} ${pkgdir}/var/install/bin/${currentHelperScript} || return 1
	done
	cd -
	cd ${startdir}/default.d
	for currentDefaultScript in `ls` ; do
		install -D -m644 ${currentDefaultScript} ${pkgdir}/etc/default.d/${currentDefaultScript} || return 1
	done
	cd -
	cd ${startdir}/dialog.d
	for currentDialogScript in `ls` ; do
		install -D -m755 ${currentDialogScript} ${pkgdir}/var/install/dialog.d/${currentDialogScript} || return 1
	done
	cd -
	cd ${startdir}/menu
	for currentMenu in `ls` ; do
		install -D -m644 ${currentMenu} ${pkgdir}/var/install/menu/${currentMenu#cui-samba.*} || return 1
	done
	cd -
	install -D -m644 ${srcdir}/${pkgname}.checkd                  ${pkgdir}/etc/check.d/samba || return 1
	install -D -m644 ${srcdir}/${pkgname}.checkd.exp              ${pkgdir}/etc/check.d/samba.exp || return 1
	install -D -m644 ${srcdir}/${pkgname}.help                    ${pkgdir}/var/install/help/samba || return 1
	install -D -m644 ${srcdir}/${pkgname}.txt                     ${pkgdir}/usr/share/doc/samba/samba.txt || return 1
	install -D -m755 ${srcdir}/${pkgname}.sh                      ${pkgdir}/var/install/config.d/samba.sh || return 1
	install -D -m755 ${srcdir}/${pkgname}-update.sh               ${pkgdir}/var/install/config.d/samba-update.sh || return 1
	install -D -m644 ${srcdir}/${pkgname}-usermapping.checkd      ${pkgdir}/etc/check.d/samba-usermapping || return 1
	install -D -m644 ${srcdir}/${pkgname}-usermapping.help        ${pkgdir}/var/install/help/samba-usermapping || return 1
	install -D -m755 ${srcdir}/${pkgname}-usermapping.sh          ${pkgdir}/var/install/config.d/samba-usermapping.sh || return 1
	install -D -m755 ${srcdir}/${pkgname}-usermapping-update.sh   ${pkgdir}/var/install/config.d/samba-usermapping-update.sh || return 1
}
md5sums="63d63d7b156be2bdcfa9a0d40a870ded  cui-samba.checkd
5f1f89fe20fdf62dec536eb832f6e253  cui-samba.checkd.exp
cada47abe258b709ac9d6049705e29ea  cui-samba.help
121ca2f9deba4225012a6165fbbe5bf4  cui-samba.sh
cd05cb929be52ccb375427d4886717b7  cui-samba.txt
ae3172a949c6d537b9f53525d695ed11  cui-samba-update.sh
f07dee53b65a9dc2dd0c4e790cac7601  cui-samba-usermapping.checkd
c4f8f7c6957273c347abc7845e5960d2  cui-samba-usermapping.help
10dfad8fe2b486837486623cb449896b  cui-samba-usermapping.sh
df74931e724a2cb22fc28cee559443b8  cui-samba-usermapping-update.sh"
sha256sums="cfd040dfdc55107862754060dc14f49e0158a7e87f2fd5352ee09b108712d041  cui-samba.checkd
5fdc0d8d8bc5cf6c996462e4e8d9ccd988dc6cef269439f75fbbefdb80503beb  cui-samba.checkd.exp
e37fe3e8b9ab8a2a25f85207cd42cca63444b826e7ba6d26210604425bbd939b  cui-samba.help
519c2a699558ad36f7191cffe2852da5c558e8fe351cade3eaf6ddabbb5dfd57  cui-samba.sh
1ac6552c2df8114c22072301c5e81cab00c92130b6fc236e4b29bcd850233a82  cui-samba.txt
1fbb37812c5f5c5f625ea7fa60d49572a30cf133c914c246dd7c8a08904b109e  cui-samba-update.sh
5b71b1e1a8d7b6000751a939876c632a4ffb3df9f614fabad697062ad54d95ad  cui-samba-usermapping.checkd
7be935c5784d3b0878faf6112d64da4d62f4c002fa30b23cdbbb0ffd9266ba73  cui-samba-usermapping.help
c708c49e79527cc76c43846b37bc43ff333e179dfa0bce87079282d518212e34  cui-samba-usermapping.sh
d68cf264c3aa048011241646c9aa3ae47b06d2823f7e0e1df18014ae31c597c1  cui-samba-usermapping-update.sh"
sha512sums="f5a23cd2338e94b322b0d57da43400250943b9877ea0c8775c063ade8870fc203bd152222d3190bac66f5abd3c104cf087d5965ab7d2deba4f690f0eaa533a98  cui-samba.checkd
b7d25b31386f7cce28b80d811e7f4b690ffa83a5f1f8a02638376d57f17405fb6764e54ebd58a936db9033e8b26049c2db77a76d8606e1d95e6faf547495afc2  cui-samba.checkd.exp
3966c7a9a79791c7b4cef2607734a6f6e863cffab5aed18c99e91fa1ddb74c271f69abee5ea69e641c667be9b30867e278f4f9db3964773a28cbe19d81485a34  cui-samba.help
98ce3b566a3f25cf662780ffb3fc1c4240048d70f0c8b07bc733fe65101eaaafd0408897bc462dce8336e835fae8072b429eeb9660f7b62942c42506e63595b3  cui-samba.sh
80bed5e841b3a9f66c8c1af44d048273784404fe949ba070dcc7fe9b60b80b0092d0fcdea1caaf6894a0b3d12125827375b71bf768aef69308805299eae90115  cui-samba.txt
c1b8b28e8e72bd8e76ec0640a5ef4c4ad56de1bd2018e8f1011813296ad8fe4013811114be1e6a8bb8c3501a70ac40bc32cd9b6482b5595891ac7dc9465f1553  cui-samba-update.sh
c081125a2fa6971d156a89a7ef2bad332cd3057b48ab07cd7cb2c76e8571efc4a2db9888b071f0432572f952c834e05b43fcae474fdbf44a2ac304d0ae25b7f7  cui-samba-usermapping.checkd
4b68609b72b3a1aac87d30656a218a28d72570336ca1c6f3d76231eb958aaf064a45e213e962fac2b17e0ac9eac8e798f879b05769cc7f4039067285aa91c19f  cui-samba-usermapping.help
a8f54959bf42740a7e10fb3aabc070d165192075bd01c5ad017f8a89844f5748aba14cd61fd5e372cb0662fb7a60fda52ecbd72cdf802a2426c5affec8021dde  cui-samba-usermapping.sh
cd78d7e1e5edea57d3239acb6f34609edbc3f0fd86864749d36428613033ca0cc79b89532d8e7b11354015feeaf2ebba1a798b257a26922cf253a0df5299d02e  cui-samba-usermapping-update.sh"
