# Contributor: starwarsfan <yves@eisfair.org>
# Maintainer: starwarsfan <yves@eisfair.org>
pkgname=cui-samba
pkgver=0.1.0
pkgrel=1
pkgdesc="CUI Setup for samba"
url="http://www.eisfair.org"
arch="noarch"
license="GPL"
depends="cuimenu samba"
depends_dev=""
makedepends="$depends_dev"
install="$pkgname.post-install $pkgname.post-deinstall"
subpackages=""
source="${pkgname}.checkd
        ${pkgname}.checkd.exp
        ${pkgname}.help
        ${pkgname}.sh
        ${pkgname}.txt
        ${pkgname}-update.sh
        ${pkgname}-usermapping.checkd
        ${pkgname}-usermapping.checkd.exp
        ${pkgname}-usermapping.help
        ${pkgname}-usermapping.sh
        ${pkgname}-usermapping-update.sh
"

_builddir=
prepare() {
	local i
	cd "$_builddir"
	for i in ${source} ; do
		case ${i} in
		*.patch) msg ${i}; patch -p1 -i "$srcdir"/${i} || return 1;;
		esac
	done
}

build() {
	cd "$_builddir"
}

package() {
	cd "$_builddir"
	cd ${startdir}/bin
	for currentHelperScript in `ls` ; do
		install -D -m755 ${currentHelperScript} ${pkgdir}/var/install/bin/${currentHelperScript} || return 1
	done
	cd -
	cd ${startdir}/default.d
	for currentDefaultScript in `ls` ; do
		install -D -m644 ${currentDefaultScript} ${pkgdir}/etc/default.d/${currentDefaultScript} || return 1
	done
	cd -
	cd ${startdir}/dialog.d
	for currentDialogScript in `ls` ; do
		install -D -m755 ${currentDialogScript} ${pkgdir}/var/install/dialog.d/${currentDialogScript} || return 1
	done
	cd -
	cd ${startdir}/menu
	for currentMenu in `ls` ; do
		install -D -m644 ${currentMenu} ${pkgdir}/var/install/menu/${currentMenu#cui-samba.*} || return 1
	done
	cd -
	install -D -m644 ${srcdir}/${pkgname}.checkd                  ${pkgdir}/etc/check.d/samba || return 1
	install -D -m644 ${srcdir}/${pkgname}.checkd.exp              ${pkgdir}/etc/check.d/samba.exp || return 1
	install -D -m644 ${srcdir}/${pkgname}.help                    ${pkgdir}/var/install/help/samba || return 1
	install -D -m644 ${srcdir}/${pkgname}.txt                     ${pkgdir}/usr/share/doc/samba/samba.txt || return 1
	install -D -m755 ${srcdir}/${pkgname}.sh                      ${pkgdir}/var/install/config.d/samba.sh || return 1
	install -D -m755 ${srcdir}/${pkgname}-update.sh               ${pkgdir}/var/install/config.d/samba-update.sh || return 1
	install -D -m644 ${srcdir}/${pkgname}-usermapping.checkd      ${pkgdir}/etc/check.d/samba-usermapping || return 1
	install -D -m644 ${srcdir}/${pkgname}-usermapping.checkd.exp  ${pkgdir}/etc/check.d/samba-usermapping.exp || return 1
	install -D -m644 ${srcdir}/${pkgname}-usermapping.help        ${pkgdir}/var/install/help/samba-usermapping || return 1
	install -D -m755 ${srcdir}/${pkgname}-usermapping.sh          ${pkgdir}/var/install/config.d/samba-usermapping.sh || return 1
	install -D -m755 ${srcdir}/${pkgname}-usermapping-update.sh   ${pkgdir}/var/install/config.d/samba-usermapping-update.sh || return 1
}
md5sums="21a7de4cf65c81d5f7d5f5903b1d2986  cui-samba.checkd
5f1cdbd5072b0150c62a20ccb7c5728a  cui-samba.checkd.exp
7041381c92854727a19f44692111cd8d  cui-samba.help
1619108071c72ebaf772d178869088cb  cui-samba.sh
2659726a5306757ee63d3a6d4cb96be6  cui-samba.txt
8a2a9903d6bff099c0daf5ab466fe5b6  cui-samba-update.sh
316be7cd9f54cd0422bc21c8954d0f48  cui-samba-usermapping.checkd
538a4de3ef0c569e31a24878f65cf671  cui-samba-usermapping.checkd.exp
c4f8f7c6957273c347abc7845e5960d2  cui-samba-usermapping.help
617b26e24d49991b8a507d0dc8963007  cui-samba-usermapping.sh
df74931e724a2cb22fc28cee559443b8  cui-samba-usermapping-update.sh"
sha256sums="84bb5d57ba9b9637b603a80b03d44b4ad865ce3ab7d85fa22cceeff10ba6b4f7  cui-samba.checkd
20ebcb32b4886cac2d76def80e792d21a0659bc33678d52d611e37b14a96234e  cui-samba.checkd.exp
bfcad3e9815b41fcee398a63e430c3f503ef005385297ea3f25b2da6df5ce41f  cui-samba.help
d47a1e2be260a226451345be9a7b8454c564201a20d1a36406fec512a69c14d6  cui-samba.sh
3d51536a7d730165e3301382b98108062bb6c1dbeb89840eb6d56714e17c2d9a  cui-samba.txt
db712de0c0a9ccdd5d07a87de6aab562884ac95d69284f7536f09827345949e6  cui-samba-update.sh
9bfe63356f67c2969fae8dcbf79b564757571489a80a651e9e9b48a73c3585dd  cui-samba-usermapping.checkd
0fb2f9c0f636c0c45ba8dac9593ec3d8e3d99689a6096c7d20013c632521eb81  cui-samba-usermapping.checkd.exp
7be935c5784d3b0878faf6112d64da4d62f4c002fa30b23cdbbb0ffd9266ba73  cui-samba-usermapping.help
dc41760a29f81c19fc437f6ead377083117e7b8fd042cb16f474ea45662b81fc  cui-samba-usermapping.sh
d68cf264c3aa048011241646c9aa3ae47b06d2823f7e0e1df18014ae31c597c1  cui-samba-usermapping-update.sh"
sha512sums="dd05ae5ebe08e23672049540e63addabe12fbaa667d2ec19600f3e510534dec4993c12e35110523132f35acb2e936edef77288f872964d8bca4cc6983772561c  cui-samba.checkd
c550ae01838b57f70e7cb76451b9ad81fa21f355783b3bbd7c424b578cd3b08ffb837ed843039d83a4cf562400979363542d50856abfcda3e56704778462569b  cui-samba.checkd.exp
05305b4fbaddf1df484f4cc2b28046f54eb234f7fb59fe70b956e38a1037178bedabf4b3980e51aeac9b48bff86e5d9567aeb8356da22b40dc63a1a7385e0e0f  cui-samba.help
94cbe60c4213a84c58d6c20cd9e8c769f4ff73763f0275cfeb4f1550455a34a1b5d22d8049a6f42c92b41158aacf7f13f85eda0958917b0b2bb511b34ed07647  cui-samba.sh
cfe2c5709f75a766f1c0e5022da0a31a20394d9ca7736dcc13ac94c35ce52a575541f367ed5c332f873ba2376db1061f8a32c4b8e54defcdb8e5c2a3cdb14808  cui-samba.txt
8eaf02c099f7bdfd007fa6e5c8c56847b0430c4df4b290394b43c0dc67b89dfd804c45079a30f16005a8d03aa49f40430314bef4872d17a450e245f578536198  cui-samba-update.sh
0016ad14d6aa0b30afd8c100eb84566ae53f17f89974986c4e1e2fc2ec5231ff034c6b2fb0096cee8e068ae35778637d1bd47b58817c4c54cac58188a9f252a6  cui-samba-usermapping.checkd
f73a322869fb2b60908cf9f73ed302c60a2660723e7ae8c2155616c1cdaa9a1913be8f6054a88f31c980db71b66e5f6bc6996617e7494cdd99c9ae5faa6a3b9b  cui-samba-usermapping.checkd.exp
4b68609b72b3a1aac87d30656a218a28d72570336ca1c6f3d76231eb958aaf064a45e213e962fac2b17e0ac9eac8e798f879b05769cc7f4039067285aa91c19f  cui-samba-usermapping.help
97088e56cb93bdb77035513bdba05e30de662e3142c5666232f8c06b3b6f2a7efad0f909e857687a5b121f0b89edd7dc120b3ff5e9f40989e159adf85f9d1ac3  cui-samba-usermapping.sh
cd78d7e1e5edea57d3239acb6f34609edbc3f0fd86864749d36428613033ca0cc79b89532d8e7b11354015feeaf2ebba1a798b257a26922cf253a0df5299d02e  cui-samba-usermapping-update.sh"
