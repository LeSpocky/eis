# Contributor: starwarsfan <yves@eisfair.org>
# Maintainer: starwarsfan <yves@eisfair.org>
pkgname=cui-samba
pkgver=1.0.0
pkgrel=0
pkgdesc="CUI Setup for samba"
url="http://www.eisfair.org"
arch="noarch"
license="GPL"
depends="cuimenu samba"
depends_dev=""
makedepends="$depends_dev"
install="$pkgname.post-install $pkgname.post-deinstall"
subpackages=""
source="${pkgname}.checkd
        ${pkgname}.checkd.exp
        ${pkgname}.help
        ${pkgname}.sh
        ${pkgname}.txt
        ${pkgname}-update.sh
"

_builddir=
prepare() {
	local i
	cd "$_builddir"
	for i in $source ; do
		case $i in
		*.patch) msg $i; patch -p1 -i "$srcdir"/$i || return 1;;
		esac
	done
}

build() {
	cd "$_builddir"
}

package() {
	cd "$_builddir"
	cd ${startdir}/bin
	for currentHelperScript in `ls` ; do
		install -D -m755 ${currentHelperScript} ${pkgdir}/var/install/bin/${currentHelperScript} || return 1
	done
	cd -
	cd ${startdir}/default.d
	for currentDefaultScript in `ls` ; do
		install -D -m644 ${currentDefaultScript} ${pkgdir}/etc/default.d/${currentDefaultScript} || return 1
	done
	cd -
	cd ${startdir}/dialog.d
	for currentDialogScript in `ls` ; do
		install -D -m755 ${currentDialogScript} ${pkgdir}/var/install/dialog.d/${currentDialogScript} || return 1
	done
	cd -
	cd ${startdir}/menu
	for currentMenu in `ls` ; do
		install -D -m644 ${currentMenu} ${pkgdir}/var/install/menu/${currentMenu#cui-samba.*} || return 1
	done
	cd -
	install -D -m644 ${srcdir}/${pkgname}.checkd          ${pkgdir}/etc/check.d/samba || return 1
	install -D -m644 ${srcdir}/${pkgname}.checkd.exp      ${pkgdir}/etc/check.d/samba.exp || return 1
	install -D -m644 ${srcdir}/${pkgname}.help            ${pkgdir}/var/install/help/samba || return 1
	install -D -m644 ${srcdir}/${pkgname}.txt             ${pkgdir}/usr/share/doc/samba/samba.txt || return 1
	install -D -m755 ${srcdir}/${pkgname}.sh              ${pkgdir}/var/install/config.d/samba.sh || return 1
	install -D -m755 ${srcdir}/${pkgname}-update.sh       ${pkgdir}/var/install/config.d/samba-update.sh || return 1
}
md5sums="1984598a18169fa788b0f99b9452a7f6  cui-samba.checkd
707245d3fa5f554698a016583f2f0836  cui-samba.checkd.exp
68f497649425d18966241cc45e9a7a13  cui-samba.help
91c2daa469f05851777d9e09cb15f2c6  cui-samba.sh
cd05cb929be52ccb375427d4886717b7  cui-samba.txt
809f9080cff9752fc6b43674164ee6f4  cui-samba-update.sh"
sha256sums="51ea1e7fbb56baf4783f54e4590408b7be4b0d1aa6653c172c8ea56963c9e51f  cui-samba.checkd
6cb0af52ebf1774a69c5b8cd9c3f6e20e7a8a04a2684f05a740b4c380880d7b0  cui-samba.checkd.exp
57236802040462cbce67eeb5bb14ee9f447c583bf443cde629a119534510e06e  cui-samba.help
8cf6a1b52c838b5a4c4d82dd56964ff24a0a734358b24ef8d694a552e744db7c  cui-samba.sh
1ac6552c2df8114c22072301c5e81cab00c92130b6fc236e4b29bcd850233a82  cui-samba.txt
6b58f68652963a491d2e4fd1b704c9cb75bdfe8b5e74db9b2feab403fb80ee99  cui-samba-update.sh"
sha512sums="af2caefd8b1fa4c3c8396c9813209ae9fd8096414596baac850fd52e388086462717ffac511b4ade53ddb9bfb783aee27195c51b1d3f06c097938fa28d5edf98  cui-samba.checkd
69ae051a1d487f5e0944cef5a1c62297a5568c2c650ef87abb0fbd0fa9a49851be169abff41ce578a432f032ca9c07e8e23ea0c60c1dc4ab1f9e09bf3351df95  cui-samba.checkd.exp
1718304429574af7fb2e551d1e74670e3688b193e365aa50a5dc124e97ec59785a3217a51c83dbd535abb80768723cbc473cb5880d6ca3af68843708a13c859c  cui-samba.help
182a2b9974f11f039937708fb7b4b8a43d2daab9bb7bd4597dc81b3ba1cc5541508ad50d66cc73ecf4314b4c31f15ef8177c471ee06de6f84712963837112b08  cui-samba.sh
80bed5e841b3a9f66c8c1af44d048273784404fe949ba070dcc7fe9b60b80b0092d0fcdea1caaf6894a0b3d12125827375b71bf768aef69308805299eae90115  cui-samba.txt
bdb99fa586a5b4fd81315ed17cae12e07a15537b7886f2da03320911ed0d164b5104cd28ab6b4592060077f8976bd5072e8d0267dd6a255072a53df360810fac  cui-samba-update.sh"
