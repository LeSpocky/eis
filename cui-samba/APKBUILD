# Contributor: starwarsfan <yves@eisfair.org>
# Maintainer: starwarsfan <yves@eisfair.org>
pkgname=cui-samba
pkgver=1.0.0
pkgrel=0
pkgdesc="CUI Setup for samba"
url="http://www.eisfair.org"
arch="noarch"
license="GPL"
depends="cuimenu samba"
depends_dev=""
makedepends="$depends_dev"
install="$pkgname.post-install $pkgname.post-deinstall"
subpackages=""
source="${pkgname}.checkd
        ${pkgname}.checkd.exp
        ${pkgname}.checkd.ext
        ${pkgname}.help
        ${pkgname}.sh
        ${pkgname}.txt
        ${pkgname}-update.sh
"

_builddir=
prepare() {
	local i
	cd "$_builddir"
	for i in $source ; do
		case $i in
		*.patch) msg $i; patch -p1 -i "$srcdir"/$i || return 1;;
		esac
	done
}

build() {
	cd "$_builddir"
}

package() {
	cd "$_builddir"
	cd ${startdir}/bin
	for currentHelperScript in `ls` ; do
		install -D -m755 ${currentHelperScript} ${pkgdir}/var/install/bin/${currentHelperScript} || return 1
	done
	cd -
	cd ${startdir}/dialog.d
	for currentDialogScript in `ls` ; do
		install -D -m755 ${currentDialogScript} ${pkgdir}/var/install/dialog.d/${currentDialogScript} || return 1
	done
	cd -
	cd ${startdir}/menu
	for currentMenu in `ls` ; do
		install -D -m644 ${currentMenu} ${pkgdir}/var/install/menu/${currentMenu#cui-samba.*} || return 1
	done
	cd -
	install -D -m644 ${srcdir}/${pkgname}.checkd          ${pkgdir}/etc/check.d/cui-samba || return 1
	install -D -m644 ${srcdir}/${pkgname}.checkd.exp      ${pkgdir}/etc/check.d/cui-samba.exp || return 1
	install -D -m644 ${srcdir}/${pkgname}.checkd.ext      ${pkgdir}/etc/check.d/cui-samba.ext || return 1
	install -D -m644 ${srcdir}/${pkgname}.help            ${pkgdir}/var/install/help/cui-samba || return 1
	install -D -m644 ${srcdir}/${pkgname}.txt             ${pkgdir}/usr/share/doc/cui-samba/cui-samba.txt || return 1
	install -D -m755 ${srcdir}/${pkgname}.sh              ${pkgdir}/var/install/config.d/cui-samba.sh || return 1
	install -D -m755 ${srcdir}/${pkgname}-update.sh       ${pkgdir}/var/install/config.d/cui-samba-update.sh || return 1
}
md5sums="c1f097e74755283f2f40ea87ecd1754e  cui-samba.checkd
1164095380d8c33cdd608ef150ee361f  cui-samba.checkd.exp
c060fb5fce98cb79a5956a5154f939a0  cui-samba.checkd.ext
59eac2cf02cbbb3d12a1f4b13aa9e130  cui-samba.help
159faa9037b07114f634fe3ee9d0ea6e  cui-samba.sh
092db8b190324fdb9cf91f3e1ba74100  cui-samba.txt
adcd16066e660d9122b2e7fc7bc45bd4  cui-samba-update.sh"
sha256sums="91b6ed82606667a03aee0586f52edc61f26c519818b9ca59aa37a24248551c77  cui-samba.checkd
a8d7e2ddb000db7bdd6c1cdf9b57abe18972eec51c384e40c6b6b95d6bd8a03c  cui-samba.checkd.exp
05c370383db2b2470488196a614ed1a8687b3b2404185f4fb0d9b30cf75e9cc0  cui-samba.checkd.ext
d88b9652591eb6659d33c3cbad06288ef499205a0371c4a1693ebd35ed0e004e  cui-samba.help
ee007988db4a72233cfce0bd99cefe278d1b028e88131b6b9371673f48b4f9f2  cui-samba.sh
3e260c15b883c071bf28d5c5a6544d03d0c034a954b7514cd953b55a7d641b0f  cui-samba.txt
0cfab00ea6c0061983fb45500b71ab3bbfdf44c5e6cdaf07d1c4b6b91a232111  cui-samba-update.sh"
sha512sums="04f4516251cc4f31adf2fea142207cf611f8bedc07922922a971db4cdd393b51dfbe3be26b043a1dc8a3e598e26940df9571798810dfa62134c1d251cc3e16be  cui-samba.checkd
11a52709524a988d831ea39603f8dac390747b8ac2d479977937d407194d020753bf517cb81e7430b1ab7d7c7c467bf4ebb414b662731a054a5587911aef8d4c  cui-samba.checkd.exp
a51416f45f10fcc754601aa0b34db14d4c5d09f39a24b66564bfa759fdeb40dd9da68a1eaa9112064db1fe7593e6bdef75c1d6f34de83832c0a9738b3f95c949  cui-samba.checkd.ext
66abf300c7f352230480e93096fe24c368506a7a9c0f6748cd60cb57ba62a19a0a710047c88eb155fbe4f8ccc9e1378f38b49ac9fe09eb9cdbfe6b925f043651  cui-samba.help
0032f4a98ee69757f7a98628128449896968722993ec3d25fee099cb40e8ef993ce06dad1fdae3d1c10f79702d763af3dabb5fc7148a7af2f7b6aff1d17bb94f  cui-samba.sh
659c6f8cd3635f1b16a40558a8f691aa0a1190fbb52d04e9a9a774ab0dee245384f66f4a77a242c717eb3638749278ae70557ef452f0f206e19ef38ca85a448f  cui-samba.txt
f75bcb970ce26668b2ca93c19b121d56157a6f4a49be9548911d14799541dc46fd0dc52a79b427c38fd8d90e3b21a7bb632fe7ce6cd1a4039e67fca8aa38d7d8  cui-samba-update.sh"
