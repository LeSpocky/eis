# Contributor: starwarsfan <yves@eisfair.org>
# Maintainer: starwarsfan <yves@eisfair.org>
pkgname=cui-samba
pkgver=0.1.0
pkgrel=1
pkgdesc="CUI Setup for samba"
url="http://www.eisfair.org"
arch="noarch"
license="GPL"
depends="cuimenu samba"
depends_dev=""
makedepends="$depends_dev"
install="$pkgname.post-install $pkgname.post-deinstall"
subpackages=""
source="${pkgname}.checkd
        ${pkgname}.checkd.exp
        ${pkgname}.help
        ${pkgname}.sh
        ${pkgname}.txt
        ${pkgname}-update.sh
        ${pkgname}-usermapping.checkd
        ${pkgname}-usermapping.checkd.exp
        ${pkgname}-usermapping.help
        ${pkgname}-usermapping.sh
        ${pkgname}-usermapping-update.sh
"

_builddir=
prepare() {
	local i
	cd "$_builddir"
	for i in ${source} ; do
		case ${i} in
		*.patch) msg ${i}; patch -p1 -i "$srcdir"/${i} || return 1;;
		esac
	done
}

build() {
	cd "$_builddir"
}

package() {
	cd "$_builddir"
	cd ${startdir}/bin
	for currentHelperScript in `ls` ; do
		install -D -m755 ${currentHelperScript} ${pkgdir}/var/install/bin/${currentHelperScript} || return 1
	done
	cd -
	cd ${startdir}/default.d
	for currentDefaultScript in `ls` ; do
		install -D -m644 ${currentDefaultScript} ${pkgdir}/etc/default.d/${currentDefaultScript} || return 1
	done
	cd -
	cd ${startdir}/dialog.d
	for currentDialogScript in `ls` ; do
		install -D -m755 ${currentDialogScript} ${pkgdir}/var/install/dialog.d/${currentDialogScript} || return 1
	done
	cd -
	cd ${startdir}/menu
	for currentMenu in `ls` ; do
		install -D -m644 ${currentMenu} ${pkgdir}/var/install/menu/${currentMenu#cui-samba.*} || return 1
	done
	cd -
	install -D -m644 ${srcdir}/${pkgname}.checkd                  ${pkgdir}/etc/check.d/samba || return 1
	install -D -m644 ${srcdir}/${pkgname}.checkd.exp              ${pkgdir}/etc/check.d/samba.exp || return 1
	install -D -m644 ${srcdir}/${pkgname}.help                    ${pkgdir}/var/install/help/samba || return 1
	install -D -m644 ${srcdir}/${pkgname}.txt                     ${pkgdir}/usr/share/doc/samba/samba.txt || return 1
	install -D -m755 ${srcdir}/${pkgname}.sh                      ${pkgdir}/var/install/config.d/samba.sh || return 1
	install -D -m755 ${srcdir}/${pkgname}-update.sh               ${pkgdir}/var/install/config.d/samba-update.sh || return 1
	install -D -m644 ${srcdir}/${pkgname}-usermapping.checkd      ${pkgdir}/etc/check.d/samba-usermapping || return 1
	install -D -m644 ${srcdir}/${pkgname}-usermapping.checkd.exp  ${pkgdir}/etc/check.d/samba-usermapping.exp || return 1
	install -D -m644 ${srcdir}/${pkgname}-usermapping.help        ${pkgdir}/var/install/help/samba-usermapping || return 1
	install -D -m755 ${srcdir}/${pkgname}-usermapping.sh          ${pkgdir}/var/install/config.d/samba-usermapping.sh || return 1
	install -D -m755 ${srcdir}/${pkgname}-usermapping-update.sh   ${pkgdir}/var/install/config.d/samba-usermapping-update.sh || return 1
}
md5sums="1d759776b07b8205a93ff6bf3261987f  cui-samba.checkd
5f1cdbd5072b0150c62a20ccb7c5728a  cui-samba.checkd.exp
0644f03245e4553e6f29b12d92f1abee  cui-samba.help
2f8f502fced1fcb94280cd1a1f77abdb  cui-samba.sh
2659726a5306757ee63d3a6d4cb96be6  cui-samba.txt
7712ff5ac4ab8b36e85e33ba1103a861  cui-samba-update.sh
316be7cd9f54cd0422bc21c8954d0f48  cui-samba-usermapping.checkd
538a4de3ef0c569e31a24878f65cf671  cui-samba-usermapping.checkd.exp
c4f8f7c6957273c347abc7845e5960d2  cui-samba-usermapping.help
617b26e24d49991b8a507d0dc8963007  cui-samba-usermapping.sh
df74931e724a2cb22fc28cee559443b8  cui-samba-usermapping-update.sh"
sha256sums="2a5ab0dfd17c47b3d5a0a7984dafe939da05dc1d1e8df2b17531bf475e7be40e  cui-samba.checkd
20ebcb32b4886cac2d76def80e792d21a0659bc33678d52d611e37b14a96234e  cui-samba.checkd.exp
3492489ebbf8e76e7bcef318fc954fc2f2e6de4aadda7924db5a3d61364df743  cui-samba.help
b88e5185137d66bc43a0e4055180992b7f7d894d732e6d03ec932f722ae8bfc3  cui-samba.sh
3d51536a7d730165e3301382b98108062bb6c1dbeb89840eb6d56714e17c2d9a  cui-samba.txt
e09138afee88ada8889279914b45d51f35d9a720514bf578a490cb0643039173  cui-samba-update.sh
9bfe63356f67c2969fae8dcbf79b564757571489a80a651e9e9b48a73c3585dd  cui-samba-usermapping.checkd
0fb2f9c0f636c0c45ba8dac9593ec3d8e3d99689a6096c7d20013c632521eb81  cui-samba-usermapping.checkd.exp
7be935c5784d3b0878faf6112d64da4d62f4c002fa30b23cdbbb0ffd9266ba73  cui-samba-usermapping.help
dc41760a29f81c19fc437f6ead377083117e7b8fd042cb16f474ea45662b81fc  cui-samba-usermapping.sh
d68cf264c3aa048011241646c9aa3ae47b06d2823f7e0e1df18014ae31c597c1  cui-samba-usermapping-update.sh"
sha512sums="9d9e16e0676dbcfbf1b942428b577a955f220ed2b53320a9fffbae929db6670ea2fb8902afeb2bb15c9b330e48f2ff19ec42a82954073a68c96b191765e3af24  cui-samba.checkd
c550ae01838b57f70e7cb76451b9ad81fa21f355783b3bbd7c424b578cd3b08ffb837ed843039d83a4cf562400979363542d50856abfcda3e56704778462569b  cui-samba.checkd.exp
a0ca701af3fc666a0cf6ea2d42ea6ab894ef1f41dd55c7ff814a693ae9ff77bfa5ed675158e58e46c41b97758b773b759620fecbfcf243470dca9b5403a14003  cui-samba.help
817b70eeb8763c8bba9fe3b7e568117e988ba0970e159a5d4a2524ad87a0eb362c76b5c83374394041c2efdad09dbd25f011f2fc92d6b5cbc885ba395ed2f39e  cui-samba.sh
cfe2c5709f75a766f1c0e5022da0a31a20394d9ca7736dcc13ac94c35ce52a575541f367ed5c332f873ba2376db1061f8a32c4b8e54defcdb8e5c2a3cdb14808  cui-samba.txt
85fd2c6e11feec9288c1db23daf9867fb35c53888fa236e18c8d0037b07ee30e41be257d28cab681565f5d8ff52ec65ddc3fdd009deaeb94911569e9c404b07a  cui-samba-update.sh
0016ad14d6aa0b30afd8c100eb84566ae53f17f89974986c4e1e2fc2ec5231ff034c6b2fb0096cee8e068ae35778637d1bd47b58817c4c54cac58188a9f252a6  cui-samba-usermapping.checkd
f73a322869fb2b60908cf9f73ed302c60a2660723e7ae8c2155616c1cdaa9a1913be8f6054a88f31c980db71b66e5f6bc6996617e7494cdd99c9ae5faa6a3b9b  cui-samba-usermapping.checkd.exp
4b68609b72b3a1aac87d30656a218a28d72570336ca1c6f3d76231eb958aaf064a45e213e962fac2b17e0ac9eac8e798f879b05769cc7f4039067285aa91c19f  cui-samba-usermapping.help
97088e56cb93bdb77035513bdba05e30de662e3142c5666232f8c06b3b6f2a7efad0f909e857687a5b121f0b89edd7dc120b3ff5e9f40989e159adf85f9d1ac3  cui-samba-usermapping.sh
cd78d7e1e5edea57d3239acb6f34609edbc3f0fd86864749d36428613033ca0cc79b89532d8e7b11354015feeaf2ebba1a798b257a26922cf253a0df5299d02e  cui-samba-usermapping-update.sh"
