# Contributor: starwarsfan <yves@eisfair.org>
# Maintainer: starwarsfan <yves@eisfair.org>
pkgname=cui-samba
pkgver=1.0.0
pkgrel=0
pkgdesc="CUI Setup for samba"
url="http://www.eisfair.org"
arch="noarch"
license="GPL"
depends="cuimenu samba"
depends_dev=""
makedepends="$depends_dev"
install="$pkgname.post-install $pkgname.post-deinstall"
subpackages=""
source="${pkgname}.checkd
        ${pkgname}.help
        ${pkgname}.sh
        ${pkgname}.txt
        ${pkgname}-update.sh
"

_builddir=
prepare() {
	local i
	cd "$_builddir"
	for i in $source ; do
		case $i in
		*.patch) msg $i; patch -p1 -i "$srcdir"/$i || return 1;;
		esac
	done
}

build() {
	cd "$_builddir"
}

package() {
	cd "$_builddir"
	cd ${startdir}/bin
	for currentHelperScript in `ls` ; do
		install -D -m755 ${currentHelperScript} ${pkgdir}/var/install/bin/${currentHelperScript} || return 1
	done
	cd -
	cd ${startdir}/default.d
	for currentDefaultScript in `ls` ; do
		install -D -m644 ${currentDefaultScript} ${pkgdir}/etc/default.d/${currentDefaultScript} || return 1
	done
	cd -
	cd ${startdir}/dialog.d
	for currentDialogScript in `ls` ; do
		install -D -m755 ${currentDialogScript} ${pkgdir}/var/install/dialog.d/${currentDialogScript} || return 1
	done
	cd -
	cd ${startdir}/menu
	for currentMenu in `ls` ; do
		install -D -m644 ${currentMenu} ${pkgdir}/var/install/menu/${currentMenu#cui-samba.*} || return 1
	done
	cd -
	install -D -m644 ${srcdir}/${pkgname}.checkd          ${pkgdir}/etc/check.d/cui-samba || return 1
	install -D -m644 ${srcdir}/${pkgname}.help            ${pkgdir}/var/install/help/cui-samba || return 1
	install -D -m644 ${srcdir}/${pkgname}.txt             ${pkgdir}/usr/share/doc/cui-samba/cui-samba.txt || return 1
	install -D -m755 ${srcdir}/${pkgname}.sh              ${pkgdir}/var/install/config.d/cui-samba.sh || return 1
	install -D -m755 ${srcdir}/${pkgname}-update.sh       ${pkgdir}/var/install/config.d/cui-samba-update.sh || return 1
}
md5sums="bf7e88318e8bdb517a2c379edfee6baa  cui-samba.checkd
6f14643ad3d108cb5faac2108e1d777e  cui-samba.help
0a4a55a74893f0321c2ec2c922f6bd7f  cui-samba.sh
cd05cb929be52ccb375427d4886717b7  cui-samba.txt
e574b3f5e13b548c4473a152987dd231  cui-samba-update.sh"
sha256sums="d58a693e11e47a1129bdf2750b790c2e37b71562842bf82421ea2ea151c67f2c  cui-samba.checkd
1ec41ffc4092b935be3aa7b484abe434258b3867e31183ae5c5fcdf5d3af6a56  cui-samba.help
dc4c625f4e2bf2391537e3746ef75ad0ac36b64b035318f6dfd700eef92bc98b  cui-samba.sh
1ac6552c2df8114c22072301c5e81cab00c92130b6fc236e4b29bcd850233a82  cui-samba.txt
f415c4efbf57bb28ab625d249d376a3dcd81fd1c6d4f3901e207110127c4d1d4  cui-samba-update.sh"
sha512sums="a52fe32e404d9e5543b4b2c3267ea804d9e777d1b44839ebb6b8206baac9b53540682c3df1c01cd26f1bb1cc036155743c9a83a56b99b61197c9c61e4ec26884  cui-samba.checkd
21c2a7f3f49f4f458070bff5ed9fca36dc52e0e569ee9c531ef118b1d707e2518436e9090ca3e3269ca35f1713019bf783ce76720e801fae421281a99bbabc22  cui-samba.help
f3e68f336ccf829e4130515dff3d3601168423ab6cc78646d0337bb8066c3649fdafb1cfec8e783c9a79560c84b6ef1f85e8aae5cb558af05476859287a3dd33  cui-samba.sh
80bed5e841b3a9f66c8c1af44d048273784404fe949ba070dcc7fe9b60b80b0092d0fcdea1caaf6894a0b3d12125827375b71bf768aef69308805299eae90115  cui-samba.txt
6460f64b5abcc362c3d1f681e3617fb2d33f5b70857b7fea83d134fee4643c04ea54e8868970224ccbd8f13cdde62734d1a7c30860fa0c500886b1629d10dc4d  cui-samba-update.sh"
