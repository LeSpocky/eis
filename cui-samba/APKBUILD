# Contributor: starwarsfan <yves@eisfair.org>
# Maintainer: starwarsfan <yves@eisfair.org>
pkgname=cui-samba
pkgver=1.0.0
pkgrel=0
pkgdesc="CUI Setup for samba"
url="http://www.eisfair.org"
arch="noarch"
license="GPL"
depends="cuimenu samba"
depends_dev=""
makedepends="$depends_dev"
install="$pkgname.post-install $pkgname.post-deinstall"
subpackages=""
source="${pkgname}.checkd
        ${pkgname}.checkd.exp
        ${pkgname}.help
        ${pkgname}.sh
        ${pkgname}.txt
        ${pkgname}-update.sh
"

_builddir=
prepare() {
	local i
	cd "$_builddir"
	for i in $source ; do
		case $i in
		*.patch) msg $i; patch -p1 -i "$srcdir"/$i || return 1;;
		esac
	done
}

build() {
	cd "$_builddir"
}

package() {
	cd "$_builddir"
	cd ${startdir}/bin
	for currentHelperScript in `ls` ; do
		install -D -m755 ${currentHelperScript} ${pkgdir}/var/install/bin/${currentHelperScript} || return 1
	done
	cd -
	cd ${startdir}/default.d
	for currentDefaultScript in `ls` ; do
		install -D -m644 ${currentDefaultScript} ${pkgdir}/etc/default.d/${currentDefaultScript} || return 1
	done
	cd -
	cd ${startdir}/dialog.d
	for currentDialogScript in `ls` ; do
		install -D -m755 ${currentDialogScript} ${pkgdir}/var/install/dialog.d/${currentDialogScript} || return 1
	done
	cd -
	cd ${startdir}/menu
	for currentMenu in `ls` ; do
		install -D -m644 ${currentMenu} ${pkgdir}/var/install/menu/${currentMenu#cui-samba.*} || return 1
	done
	cd -
	install -D -m644 ${srcdir}/${pkgname}.checkd          ${pkgdir}/etc/check.d/samba || return 1
	install -D -m644 ${srcdir}/${pkgname}.checkd.exp      ${pkgdir}/etc/check.d/samba.exp || return 1
	install -D -m644 ${srcdir}/${pkgname}.help            ${pkgdir}/var/install/help/samba || return 1
	install -D -m644 ${srcdir}/${pkgname}.txt             ${pkgdir}/usr/share/doc/samba/samba.txt || return 1
	install -D -m755 ${srcdir}/${pkgname}.sh              ${pkgdir}/var/install/config.d/samba.sh || return 1
	install -D -m755 ${srcdir}/${pkgname}-update.sh       ${pkgdir}/var/install/config.d/samba-update.sh || return 1
}
md5sums="8735237bffcfc363bf6bdebd813412b2  cui-samba.checkd
2f1605597c53971653f3b3343dc10708  cui-samba.checkd.exp
b18dfacdeb71bca2b5f61fdb36578e8a  cui-samba.help
09064ed046ab2d3d285927153938e23e  cui-samba.sh
cd05cb929be52ccb375427d4886717b7  cui-samba.txt
50a8a7d14f22ada2d47792c59d294c47  cui-samba-update.sh"
sha256sums="781f89508bad24f3f3151e2092621182acf88d7715ce6940c1b65072bca7e37b  cui-samba.checkd
8a0d4bdc101e71d57a39f3196411d7ee50923654498758efabf40c109a010fbd  cui-samba.checkd.exp
7cf5e0d921293ce05bf01d95bcaaca9fe0d7c68b61a5ccac447345705a6dec2c  cui-samba.help
2f42208627104e2086b2b85dc409162161b8ba6e62737701406dc4b31b9f2cfd  cui-samba.sh
1ac6552c2df8114c22072301c5e81cab00c92130b6fc236e4b29bcd850233a82  cui-samba.txt
e73b960ae81e772a517cdbec5349b4d9a24c451d87897118251f9e84b4f2656a  cui-samba-update.sh"
sha512sums="2165617a16dbf3fba17a3a5dd18c393adb834d8534149a3d08336b544009c9a28b908e7ce7482132d3bc1ae5b9315feb904935097e7297f2713c636937333e57  cui-samba.checkd
2c4f9ac0ce203404362e251f3b53645510bcab620213672f74007dc3ec4cef42591c2154dc1648fb5a89d1c8f083855ab434b4b0e7ffc9a5f17f8e5b4b856964  cui-samba.checkd.exp
cdbe1e33d63af78ac19da5ea35ab0bdd43f7b9ec03d94e97d07ed2f89caabf4ec75c02c5ec822fed1baa84cc95b29a1527940e8e144802642df11ec891e65905  cui-samba.help
109b4bc0d14bbeabd7a1ed6d39d7e69a450ec104b52d3fe052ee9bf3f631197c53682170865c022e0888e07def8d33ef2d1854894e9ebe314aeeab52bdab35d5  cui-samba.sh
80bed5e841b3a9f66c8c1af44d048273784404fe949ba070dcc7fe9b60b80b0092d0fcdea1caaf6894a0b3d12125827375b71bf768aef69308805299eae90115  cui-samba.txt
044671364712c578b0ad6e54564308cc73095deb30d2e68e7e5da4b08dc73faeeafe55ca1cf49dede4a64ef7cb37b354a0450d4a98d3b8650b7d2ebbdc458136  cui-samba-update.sh"
