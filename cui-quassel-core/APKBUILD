# Contributor: starwarsfan <yves@eisfair.org>
# Maintainer: starwarsfan <yves@eisfair.org>
pkgname=cui-quassel-core
pkgver=1.0.0
pkgrel=2
pkgdesc="CUI Setup for quassel-core"
url="http://www.quassel-irc.org"
arch="noarch"
license="GPL"
depends="cuimenu quassel-core"
depends_dev=""
makedepends="$depends_dev"
install="$pkgname.post-install $pkgname.post-deinstall"
subpackages=""
source="${pkgname}.help
        ${pkgname}.setup.services.menu
        ${pkgname}.setup.services.user.menu
        ${pkgname}.sh
        ${pkgname}.txt
        ${pkgname}-add-user.sh
        ${pkgname}-change-userpass.sh
        ${pkgname}-update.sh
"

_builddir=
prepare() {
	local i
	cd "$_builddir"
	for i in $source ; do
		case $i in
		*.patch) msg $i; patch -p1 -i "$srcdir"/$i || return 1;;
		esac
	done
}

build() {
	cd "$_builddir"
}

package() {
	cd "$_builddir"
	cd ${startdir}/dialog.d
	for currentDialogScript in `ls` ; do
		install -D -m755 $currentDialogScript ${pkgdir}/var/install/dialog.d/$currentDialogScript || return 1
	done
	cd -
	install -D -m644 ${srcdir}/${pkgname}.txt                        ${pkgdir}/usr/share/doc/${pkgname}/${pkgname}.txt || return 1
	install -D -m755 ${srcdir}/${pkgname}-add-user.sh                ${pkgdir}/var/install/bin/${pkgname}-add-user.sh || return 1
	install -D -m755 ${srcdir}/${pkgname}-change-userpass.sh         ${pkgdir}/var/install/bin/${pkgname}-change-userpass.sh || return 1
	install -D -m755 ${srcdir}/${pkgname}.sh                         ${pkgdir}/var/install/config.d/${pkgname}.sh || return 1
	install -D -m755 ${srcdir}/${pkgname}-update.sh                  ${pkgdir}/var/install/config.d/${pkgname}-update.sh || return 1
	install -D -m644 ${srcdir}/${pkgname}.help                       ${pkgdir}/var/install/help/${pkgname} || return 1
	install -D -m644 ${srcdir}/${pkgname}.setup.services.menu        ${pkgdir}/var/install/menu/setup.services.${pkgname}.menu || return 1
	install -D -m644 ${srcdir}/${pkgname}.setup.services.user.menu   ${pkgdir}/var/install/menu/setup.services.${pkgname}.user.menu || return 1
}
md5sums="4b65b9d04448537f2ef298bf280b9bb6  cui-quassel-core.help
98e7d20da6936f46bd5d29871bf80289  cui-quassel-core.setup.services.menu
43e9a3692e3067c14da9cc5433f63ce9  cui-quassel-core.setup.services.user.menu
58bbdfccd5b95a575a3318fe8bdaeb4a  cui-quassel-core.sh
2634e7ab2b1447d4a0c96c4dc90f3a86  cui-quassel-core.txt
28604b834d853d28a881261081cdc7a8  cui-quassel-core-add-user.sh
87ce36a51d33717862832fd0cceb9ed1  cui-quassel-core-change-userpass.sh
2e8bb2009d42abb2666989cf9f2e9aba  cui-quassel-core-update.sh"
sha256sums="1f486aed78ffb58e4c42b5bbea9b63100c0e2e60fc23fdd9a6e26047f5f6f40f  cui-quassel-core.help
4b18c1ee65008481663c6a0a47f6946d62c7381f34a8caf75c1770ea8819819b  cui-quassel-core.setup.services.menu
656f2ec0e5c22dda7692a8aaca30e8b03ce66e7c8812173f415b7511c08f0a49  cui-quassel-core.setup.services.user.menu
8312acb2c7c2421ef4d729db3483b1d809274eda2e2f7c694add203b12258f84  cui-quassel-core.sh
6313113f634df116143c2db6c34a9c4e2060bdfe01ea828eb81de19ad9600da9  cui-quassel-core.txt
39ae4305ffcedbef94819a481b921d4b1002f1d040161ab4bf370c819d289a41  cui-quassel-core-add-user.sh
415d6cb78ee553e51f4bf56e3327e2f8ed2d60dc67265952009c248ed4bd442f  cui-quassel-core-change-userpass.sh
ba501d71aa576c45b1cb2e6fc99f925b8432e40d62669435371f22ba3d1b0026  cui-quassel-core-update.sh"
sha512sums="1e89423494d7efed5be0205a4bb47018c962456da798cbf20f4f097cfbafea297c5d8d2db45b926e2a5dc113e25f64933eb169327463c5494d3b612b2859cd65  cui-quassel-core.help
b49491b119093a72546711fb5046fddf10bad30983e3a1f424da49fd51877fda72d9cb8665069b563f144c2d867087cc304ba1155b51aea7ac2af3eeac09418d  cui-quassel-core.setup.services.menu
dae3c203638555552f07ed89bd4068f36ce0aff9fadd2272e46b0fff249061c3e4e716c8ecc98d602683b05608b54fe12cbaa84be5a538e485a4189bd910b10d  cui-quassel-core.setup.services.user.menu
b464f34aa1251fa58686d39bc1f04baf3420724ad1ff030f248f0a534dfe0e33087c2e6af2bd878386687c80e058de5af2de8e7aacf3dc92d66e3712b95fb7d7  cui-quassel-core.sh
fdb396b98220518086d429daf1bc72d859be68bb5be84e65e7e20a558c2302c2135a79b0c70d35e21fd35744400500361d13f0a267b03455f7aa79bd79ee2350  cui-quassel-core.txt
65443266f51cebade187988ec46f637fcb523921e0f8bb9f9ccaf24b9698a7a4bca34f4b02ba34a3fd02e2dfb43ea0f623d9ee8c86bc4e8a423a83492adcbf36  cui-quassel-core-add-user.sh
05fc2722a03f36aece67ee594c84b5a2db2d696c9519905c8b2e85f75d6631701b1a58cebce25e85d1ed948b67cc99286376d0cccb07bda27f6f1bbddd34d977  cui-quassel-core-change-userpass.sh
9b2f7c262a3b0df8c1a056b937a2900d92fa04f43993a652e47e7479dcedbd267c1680b6234fea8506689bfd177a92b4d9e46d537092432aaa88c5d07c960bf6  cui-quassel-core-update.sh"
