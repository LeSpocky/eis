# Contributor: starwarsfan <yves@eisfair.org>
# Maintainer: starwarsfan <yves@eisfair.org>
pkgname=cui-quassel-core
pkgver=1.0.0
pkgrel=2
pkgdesc="CUI Setup for quassel-core"
url="http://www.quassel-irc.org"
arch="noarch"
license="GPL"
depends="cuimenu quassel-core"
depends_dev=""
makedepends="$depends_dev"
install="$pkgname.post-install $pkgname.post-deinstall"
subpackages=""
source="check-service.sh
        ${pkgname}.help
        ${pkgname}.setup.services.menu
        ${pkgname}.setup.services.user.menu
        ${pkgname}.sh
        ${pkgname}.txt
        ${pkgname}-add-user.sh
        ${pkgname}-change-userpass.sh
        ${pkgname}-update.sh
"

_builddir=
prepare() {
	local i
	cd "$_builddir"
	for i in $source ; do
		case $i in
		*.patch) msg $i; patch -p1 -i "$srcdir"/$i || return 1;;
		esac
	done
}

build() {
	cd "$_builddir"
}

package() {
	cd "$_builddir"
	cd ${startdir}/dialog.d
	for currentDialogScript in `ls` ; do
		install -D -m755 $currentDialogScript ${pkgdir}/var/install/dialog.d/$currentDialogScript || return 1
	done
	cd -
	install -D -m644 ${srcdir}/${pkgname}.txt                        ${pkgdir}/usr/share/doc/${pkgname}/${pkgname}.txt || return 1
	install -D -m755 ${srcdir}/check-service.sh                      ${pkgdir}/var/install/bin/check-service.sh || return 1
	install -D -m755 ${srcdir}/${pkgname}-add-user.sh                ${pkgdir}/var/install/bin/${pkgname}-add-user.sh || return 1
	install -D -m755 ${srcdir}/${pkgname}-change-userpass.sh         ${pkgdir}/var/install/bin/${pkgname}-change-userpass.sh || return 1
	install -D -m755 ${srcdir}/${pkgname}.sh                         ${pkgdir}/var/install/config.d/${pkgname}.sh || return 1
	install -D -m755 ${srcdir}/${pkgname}-update.sh                  ${pkgdir}/var/install/config.d/${pkgname}-update.sh || return 1
	install -D -m644 ${srcdir}/${pkgname}.help                       ${pkgdir}/var/install/help/${pkgname} || return 1
	install -D -m644 ${srcdir}/${pkgname}.setup.services.menu        ${pkgdir}/var/install/menu/setup.services.${pkgname}.menu || return 1
	install -D -m644 ${srcdir}/${pkgname}.setup.services.user.menu   ${pkgdir}/var/install/menu/setup.services.${pkgname}.user.menu || return 1
}
md5sums="4a0cd3f52753b8f5859d3506241962c5  check-service.sh
4b65b9d04448537f2ef298bf280b9bb6  cui-quassel-core.help
0d414b8fffadaa8528d8d2664d0a9065  cui-quassel-core.setup.services.menu
43e9a3692e3067c14da9cc5433f63ce9  cui-quassel-core.setup.services.user.menu
63a2dfc01c5ec6cdb1e98f29e3a62080  cui-quassel-core.sh
2634e7ab2b1447d4a0c96c4dc90f3a86  cui-quassel-core.txt
0038ac3cf17f93fb211390640a49f996  cui-quassel-core-add-user.sh
143ab233e37e7df41440256ca662eb9d  cui-quassel-core-change-userpass.sh
bf58c7bf69b735be0802e46f6e9ab538  cui-quassel-core-update.sh"
sha256sums="a3082b394b374b94fd1fd3cf5401b01cb7eeb4a3f6079a098d565c4a4dfaaae1  check-service.sh
1f486aed78ffb58e4c42b5bbea9b63100c0e2e60fc23fdd9a6e26047f5f6f40f  cui-quassel-core.help
320ac4b4184b49d425a472ee9ebeecdefe798da7da5ed9b53004f03b59a6684d  cui-quassel-core.setup.services.menu
656f2ec0e5c22dda7692a8aaca30e8b03ce66e7c8812173f415b7511c08f0a49  cui-quassel-core.setup.services.user.menu
91ddd8b0a6690c47120c24a49a269f57f7586e881645f94b6e07686f1cfe6b6b  cui-quassel-core.sh
6313113f634df116143c2db6c34a9c4e2060bdfe01ea828eb81de19ad9600da9  cui-quassel-core.txt
6ce6c342d0e03d7a14a406d09a370ed579ada3ece2481c2017855d061682ff44  cui-quassel-core-add-user.sh
e4de7ccd2d4d89b1dbbcba8e4148e04c9382d71bad6804dc31a8a890f3c03ac8  cui-quassel-core-change-userpass.sh
23493fed2a02e302471f51884994d8d213b7ba07515614604d33f1ce0cf6edf9  cui-quassel-core-update.sh"
sha512sums="e01e2aa5c2a76bf94f34acdbcf05c1dc24ebc1b112c374f63268f4f09868978d89c6f002115b6c72643633c78f45ed4202ef9b51b9f5943c1b04be7755f4bf94  check-service.sh
1e89423494d7efed5be0205a4bb47018c962456da798cbf20f4f097cfbafea297c5d8d2db45b926e2a5dc113e25f64933eb169327463c5494d3b612b2859cd65  cui-quassel-core.help
19b5668bf83295c89480a0b166c1ea9442a1c601d5e1935859c13a77ce87dc62cf979682672a9996bc78266a0541b6ef7f81940dd6609f07bcac09a86e906f7e  cui-quassel-core.setup.services.menu
dae3c203638555552f07ed89bd4068f36ce0aff9fadd2272e46b0fff249061c3e4e716c8ecc98d602683b05608b54fe12cbaa84be5a538e485a4189bd910b10d  cui-quassel-core.setup.services.user.menu
14bdb5eeadb333ff9e81fae527e25a1988de6d806db50a3b14ce9b6ed3f14e6904a68623b2f0b64f281c5c4f8a1182eb491cbcc4564499678410e2e674c67679  cui-quassel-core.sh
fdb396b98220518086d429daf1bc72d859be68bb5be84e65e7e20a558c2302c2135a79b0c70d35e21fd35744400500361d13f0a267b03455f7aa79bd79ee2350  cui-quassel-core.txt
686f1f8ea14701b0aa026aa42a15cf3ff8966209baa33f7ac2eea60334140628287516f97f4af0f62e132ed34e80ba675ccf3bdf7b6a6c97b884388d57120132  cui-quassel-core-add-user.sh
0389633d7caf67bc777d8fb1d239ece5bbd928fb0483f4bf84983f2595e0850347156b84040cf784ff6fab8367da77e28d9d7f229173d495ec518eb96dd323c3  cui-quassel-core-change-userpass.sh
66ccf823e4f6656a609e766a1a35f330da638c34c60bedd70f95ee7be663f175b437c4c8feb90bf6a70963248104bba5f547bde3d811a384acaf1edb397cbf50  cui-quassel-core-update.sh"
