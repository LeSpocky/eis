# Contributor: starwarsfan <yves@eisfair.org>
# Maintainer: starwarsfan <yves@eisfair.org>
pkgname=cui-quassel-core
pkgver=1.0.0
pkgrel=2
pkgdesc="CUI Setup for quassel-core"
url="http://www.quassel-irc.org"
arch="noarch"
license="GPL"
depends="cuimenu quassel-core"
depends_dev=""
makedepends="$depends_dev"
install="$pkgname.post-install $pkgname.post-deinstall"
subpackages=""
source="check-service.sh
        ${pkgname}.help
        ${pkgname}.setup.services.menu
        ${pkgname}.setup.services.user.menu
        ${pkgname}.sh
        ${pkgname}.txt
        ${pkgname}-add-user.sh
        ${pkgname}-change-userpass.sh
        ${pkgname}-update.sh
"

_builddir=
prepare() {
	local i
	cd "$_builddir"
	for i in $source ; do
		case $i in
		*.patch) msg $i; patch -p1 -i "$srcdir"/$i || return 1;;
		esac
	done
}

build() {
	cd "$_builddir"
}

package() {
	cd "$_builddir"
	cd ${startdir}/dialog.d
	for currentDialogScript in `ls` ; do
		install -D -m755 $currentDialogScript ${pkgdir}/var/install/dialog.d/$currentDialogScript || return 1
	done
	cd -
	install -D -m644 ${srcdir}/${pkgname}.txt                        ${pkgdir}/usr/share/doc/${pkgname}/${pkgname}.txt || return 1
	install -D -m755 ${srcdir}/check-service.sh                      ${pkgdir}/var/install/bin/check-service.sh || return 1
	install -D -m755 ${srcdir}/${pkgname}-add-user.sh                ${pkgdir}/var/install/bin/${pkgname}-add-user.sh || return 1
	install -D -m755 ${srcdir}/${pkgname}-change-userpass.sh         ${pkgdir}/var/install/bin/${pkgname}-change-userpass.sh || return 1
	install -D -m755 ${srcdir}/${pkgname}.sh                         ${pkgdir}/var/install/config.d/${pkgname}.sh || return 1
	install -D -m755 ${srcdir}/${pkgname}-update.sh                  ${pkgdir}/var/install/config.d/${pkgname}-update.sh || return 1
	install -D -m644 ${srcdir}/${pkgname}.help                       ${pkgdir}/var/install/help/${pkgname} || return 1
	install -D -m644 ${srcdir}/${pkgname}.setup.services.menu        ${pkgdir}/var/install/menu/setup.services.${pkgname}.menu || return 1
	install -D -m644 ${srcdir}/${pkgname}.setup.services.user.menu   ${pkgdir}/var/install/menu/setup.services.${pkgname}.user.menu || return 1
}
md5sums="3b8ea8e3075e394fce4c87596bc90d59  check-service.sh
4b65b9d04448537f2ef298bf280b9bb6  cui-quassel-core.help
45441c6762c12654fb006ee81b2da3a4  cui-quassel-core.setup.services.menu
43e9a3692e3067c14da9cc5433f63ce9  cui-quassel-core.setup.services.user.menu
33ee0507515887a2847592b3753e7f93  cui-quassel-core.sh
2634e7ab2b1447d4a0c96c4dc90f3a86  cui-quassel-core.txt
0038ac3cf17f93fb211390640a49f996  cui-quassel-core-add-user.sh
143ab233e37e7df41440256ca662eb9d  cui-quassel-core-change-userpass.sh
4261560ad0eeacea86fb106963aaaf0a  cui-quassel-core-update.sh"
sha256sums="dfe4fdd13777d09b5d921caf2bcb0b63bfeb45df71cea12e68d0ed7cc482a2f5  check-service.sh
1f486aed78ffb58e4c42b5bbea9b63100c0e2e60fc23fdd9a6e26047f5f6f40f  cui-quassel-core.help
80bb811ae7a7f9612b5af2e08295faff14f83995661fb23c3fab9f3c6f150d93  cui-quassel-core.setup.services.menu
656f2ec0e5c22dda7692a8aaca30e8b03ce66e7c8812173f415b7511c08f0a49  cui-quassel-core.setup.services.user.menu
f8894a0a786792a01374f1d2354bbfceb180d944f1313d62ed744afeb37ac19e  cui-quassel-core.sh
6313113f634df116143c2db6c34a9c4e2060bdfe01ea828eb81de19ad9600da9  cui-quassel-core.txt
6ce6c342d0e03d7a14a406d09a370ed579ada3ece2481c2017855d061682ff44  cui-quassel-core-add-user.sh
e4de7ccd2d4d89b1dbbcba8e4148e04c9382d71bad6804dc31a8a890f3c03ac8  cui-quassel-core-change-userpass.sh
2cc4648a64524bcae4a4c12d3e9c9eb00e797c015d93e9c197a13f00f78c724b  cui-quassel-core-update.sh"
sha512sums="5644d2ebc78f92c0d12cdc844aea00183bdcf58f49f46a1577291c25b1e3bc699ab101be59849a0b6fa24432d0b3426bd5e6319341e7ad6ca3d38eee35e15ad2  check-service.sh
1e89423494d7efed5be0205a4bb47018c962456da798cbf20f4f097cfbafea297c5d8d2db45b926e2a5dc113e25f64933eb169327463c5494d3b612b2859cd65  cui-quassel-core.help
12f3d106502d3d0d60c317217d66c6185cf3f6eada2c0d07d860083b1bf9389c58e7c076eaac5bd19e3d534d83d510d3507ecb05cac75ac68abba454343bc974  cui-quassel-core.setup.services.menu
dae3c203638555552f07ed89bd4068f36ce0aff9fadd2272e46b0fff249061c3e4e716c8ecc98d602683b05608b54fe12cbaa84be5a538e485a4189bd910b10d  cui-quassel-core.setup.services.user.menu
24e2b450576292cf6571f4825f875deacb4d6711cabb5e49792a3979b0ed23221ea19429a3848c54042dfe259c815b1bb8089d2d4bb9d9afb642bccdf8e1c094  cui-quassel-core.sh
fdb396b98220518086d429daf1bc72d859be68bb5be84e65e7e20a558c2302c2135a79b0c70d35e21fd35744400500361d13f0a267b03455f7aa79bd79ee2350  cui-quassel-core.txt
686f1f8ea14701b0aa026aa42a15cf3ff8966209baa33f7ac2eea60334140628287516f97f4af0f62e132ed34e80ba675ccf3bdf7b6a6c97b884388d57120132  cui-quassel-core-add-user.sh
0389633d7caf67bc777d8fb1d239ece5bbd928fb0483f4bf84983f2595e0850347156b84040cf784ff6fab8367da77e28d9d7f229173d495ec518eb96dd323c3  cui-quassel-core-change-userpass.sh
eae0f9f79d4273233788a7546096a504d9928e8efa492149ddfceda48d452890f5a68b60afad74cc7ea6ef541d9b54636491afd2da3883274266c9a934c4f95d  cui-quassel-core-update.sh"
