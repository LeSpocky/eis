# Contributor: jv <jens@eisfair.org>
# Maintainer: jv <jens@eisfair.org>
pkgname=linux-pam-pwdfile
pkgver=0.99
pkgrel=0
pkgdesc="pluggable authentication modules for authenticate users with flat text username:password files."
url="http://cpbotha.net/software/pam_pwdfile/"
arch="all"
license="BSD"
depends=""
depends_dev="linux-pam-dev openssl-dev"
makedepends="$depends_dev"
install=""
subpackages=""
source="http://cpbotha.net/files/pam_pwdfile/pam_pwdfile-${pkgver}.tar.gz
	Makefile
	"

_builddir="$srcdir/pam_pwdfile-${pkgver}"

prepare() {
	local i
	cd "$_builddir"
	for i in $source; do
		case $i in
		*.patch) msg $i; patch -p1 -i "$srcdir"/$i || return 1;;
		esac
	done
}

build() {
	cd "$_builddir"
	make -f ../Makefile || return 1
}

package() {
	cd "$_builddir"
	make -f ../Makefile DESTDIR="$pkgdir" install || return 1
}

md5sums="a05b41f0bd1c0de16bec8aad6b1b30a9  pam_pwdfile-0.99.tar.gz
b6b51b1f998b7fd366e5d8e4bae94959  Makefile"
sha256sums="973420f203976ac98508bb253b33a23d189cfbaf72143670964470e84085688e  pam_pwdfile-0.99.tar.gz
1b916ac5fbbcce555916238988b24f192608f29658ce8361fc6a35e922be947a  Makefile"
sha512sums="2a2a4ac37e76bb521beb5bd7c8344819c1909a3d939d91b91f6dd85acf8d7ad2760f0a5cd47eb38c45f877fd1be8aee419c199f5e2d8af70dad3be55a595cb0f  pam_pwdfile-0.99.tar.gz
54b23be0d1f83f7f8487468c9b79bd3f0a55b60b32cc678fd306e1e2ce51a894ad40d423f5cbb2dce3fec01d158d4de3a1f0b0e114d4b298bb8ec443bff4acfd  Makefile"
